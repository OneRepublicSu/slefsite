"use strict";(self["webpackChunkOneRepublicSu"]=self["webpackChunkOneRepublicSu"]||[]).push([[291],{9291:function(t,e,a){a.r(e),a.d(e,{default:function(){return c}});var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"main"},[e("el-backtop"),t._m(0)],1)},n=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"is-node",attrs:{id:"write"}},[e("div",[e("h3",[e("a",{staticClass:"md-header-anchor",attrs:{name:"header-n0"}}),t._v("vue3")]),e("h4",[e("a",{staticClass:"md-header-anchor",attrs:{name:"header-n2"}}),t._v("vue3概况")]),e("ol",{attrs:{start:""}},[e("li",[e("p",[t._v("2022 年 2 月 7 日开始，Vue3 成为新的默认版本")])]),e("li",[e("p",[t._v("vue3的优点：")]),e("ul",[e("li",[t._v("性能更高了：打包大小减少 41%、初次渲染快 55%、更新渲染快 133%、内存减少 54%，主要原因在于响应式原理换成了 Proxy，VNode 算法进行了优化。")]),e("li",[t._v("体积更小了：删除了一些不常用的 API，例如过滤器、EventBus 等，代码支持按需引入，能配合 Webpack 支持"),e("a",{attrs:{href:"https://v3.cn.vuejs.org/guide/migration/global-api-treeshaking.html#_2-x-%E8%AF%AD%E6%B3%95"}},[t._v("Tree Shaking support")]),t._v("。")]),e("li",[t._v("对 TS 支持更好了：因为"),e("a",{attrs:{href:"https://github.com/vuejs/vue-next"}},[t._v("源码")]),t._v("就是用 TS 重写的。")]),e("li",[e("strong",[t._v("Composition API")]),t._v(" ，能够更好的组织、封装、复用代码，"),e("a",{attrs:{href:"https://github.com/vuejs/rfcs/blob/master/active-rfcs/0013-composition-api.md"}},[t._v("RFCs")]),t._v("。 ")]),e("li",[t._v("新特性：Fragment、Teleport、Suspense。")])])])]),e("h4",[e("a",{staticClass:"md-header-anchor",attrs:{name:"header-n19"}}),t._v("vite使用指南")]),e("ol",{attrs:{start:""}},[e("li",[e("p",[t._v("前端开发与构建工具/下一代前端工具链")])]),e("li",[e("p",[t._v("webpack与vite的比较：")]),e("ul",[e("li",[t._v("Webpack：会将所有模块提前编译、打包，不管这个模块是否被用到，随着项目越来越大，打包启动速度自然越来越慢。")]),e("li",[t._v("Vite：瞬间开启一个服务，并不会先编译所有文件，当浏览器用到某个文件时，Vite 服务会收到请求然后编译后响应到客户端。")]),e("li",[t._v("优点：开发环境不需要打包，基于请求响应")])])])]),e("h5",[e("a",{staticClass:"md-header-anchor",attrs:{name:"header-n32"}}),t._v("vite语法")]),e("ol",{attrs:{start:""}},[e("li",[e("p",[t._v("创建项目")]),e("pre",{staticClass:"md-fences md-end-block ty-contain-cm modeLoaded",attrs:{spellcheck:"false",lang:"bash"}},[e("div",{staticClass:"CodeMirror cm-s-inner CodeMirror-wrap",attrs:{lang:"bash"}},[e("div",{staticStyle:{overflow:"hidden",position:"relative",width:"3px",height:"0px",top:"0px",left:"8px"}},[e("textarea",{staticStyle:{position:"absolute",bottom:"-1em",padding:"0px",width:"1000px",height:"1em",outline:"none"},attrs:{autocorrect:"off",autocapitalize:"off",spellcheck:"false",tabindex:"0"}})]),e("div",{staticClass:"CodeMirror-scrollbar-filler",attrs:{"cm-not-content":"true"}}),e("div",{staticClass:"CodeMirror-gutter-filler",attrs:{"cm-not-content":"true"}}),e("div",{staticClass:"CodeMirror-scroll",attrs:{tabindex:"-1"}},[e("div",{staticClass:"CodeMirror-sizer",staticStyle:{"margin-left":"0px","margin-bottom":"0px","border-right-width":"0px","padding-right":"0px","padding-bottom":"0px"}},[e("div",{staticStyle:{position:"relative",top:"0px"}},[e("div",{staticClass:"CodeMirror-lines",attrs:{role:"presentation"}},[e("div",{staticStyle:{position:"relative",outline:"none"},attrs:{role:"presentation"}},[e("div",{staticClass:"CodeMirror-measure"}),e("div",{staticClass:"CodeMirror-measure"}),e("div",{staticStyle:{position:"relative","z-index":"1"}}),e("div",{staticClass:"CodeMirror-code",attrs:{role:"presentation"}},[e("div",{staticClass:"CodeMirror-activeline",staticStyle:{position:"relative"}},[e("div",{staticClass:"CodeMirror-activeline-background CodeMirror-linebackground"}),e("div",{staticClass:"CodeMirror-gutter-background CodeMirror-activeline-gutter",staticStyle:{left:"0px",width:"0px"}}),e("pre",{staticClass:"CodeMirror-line",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[e("span",{staticClass:"cm-builtin"},[t._v("npm")]),t._v(" create vite")])])]),e("pre",{staticClass:"CodeMirror-line",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[e("span",{staticClass:"cm-comment"},[t._v("# or")])])]),e("pre",{staticClass:"CodeMirror-line",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[t._v("yarn create vite")])])])])])])]),e("div",{staticStyle:{position:"absolute",height:"0px",width:"1px","border-bottom":"0px solid transparent",top:"69px"}}),e("div",{staticClass:"CodeMirror-gutters",staticStyle:{display:"none",height:"69px"}})])])]),e("ul",[e("li",[t._v("输入项目名字，默认为 vite-project")]),e("li",[t._v("选择创建的项目类型，选择 vue 即可")]),e("li",[t._v("选择创建的 Vue 项目类型，选择 vue/JavaScript")])])]),e("li",[e("p",[t._v("使用 Vite 快速创建项目")]),e("pre",{staticClass:"md-fences md-end-block ty-contain-cm modeLoaded",attrs:{spellcheck:"false",lang:"bash"}},[e("div",{staticClass:"CodeMirror cm-s-inner CodeMirror-wrap",attrs:{lang:"bash"}},[e("div",{staticStyle:{overflow:"hidden",position:"relative",width:"3px",height:"0px",top:"0px",left:"8px"}},[e("textarea",{staticStyle:{position:"absolute",bottom:"-1em",padding:"0px",width:"1000px",height:"1em",outline:"none"},attrs:{autocorrect:"off",autocapitalize:"off",spellcheck:"false",tabindex:"0"}})]),e("div",{staticClass:"CodeMirror-scrollbar-filler",attrs:{"cm-not-content":"true"}}),e("div",{staticClass:"CodeMirror-gutter-filler",attrs:{"cm-not-content":"true"}}),e("div",{staticClass:"CodeMirror-scroll",attrs:{tabindex:"-1"}},[e("div",{staticClass:"CodeMirror-sizer",staticStyle:{"margin-left":"0px","margin-bottom":"0px","border-right-width":"0px","padding-right":"0px","padding-bottom":"0px"}},[e("div",{staticStyle:{position:"relative",top:"0px"}},[e("div",{staticClass:"CodeMirror-lines",attrs:{role:"presentation"}},[e("div",{staticStyle:{position:"relative",outline:"none"},attrs:{role:"presentation"}},[e("div",{staticClass:"CodeMirror-measure"},[e("span",[e("span",[t._v("​")]),t._v("x")])]),e("div",{staticClass:"CodeMirror-measure"}),e("div",{staticStyle:{position:"relative","z-index":"1"}}),e("div",{staticClass:"CodeMirror-code",attrs:{role:"presentation"}},[e("div",{staticClass:"CodeMirror-activeline",staticStyle:{position:"relative"}},[e("div",{staticClass:"CodeMirror-activeline-background CodeMirror-linebackground"}),e("div",{staticClass:"CodeMirror-gutter-background CodeMirror-activeline-gutter",staticStyle:{left:"0px",width:"0px"}}),e("pre",{staticClass:"CodeMirror-line",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[e("span",{staticClass:"cm-comment"},[t._v("# 创建普通 Vue 项目")])])])]),e("pre",{staticClass:"CodeMirror-line",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[t._v("yarn create vite vite-demo "),e("span",{staticClass:"cm-attribute"},[t._v("--template")]),t._v(" vue")])]),e("pre",{staticClass:"CodeMirror-line",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[e("span",{attrs:{"cm-text":""}},[t._v("​")])])]),e("pre",{staticClass:"CodeMirror-line",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[e("span",{staticClass:"cm-comment"},[t._v("# 创建基于 TS 模板的 Vue 项目")])])]),e("pre",{staticClass:"CodeMirror-line",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[t._v("yarn create vite vite-demo-ts "),e("span",{staticClass:"cm-attribute"},[t._v("--template")]),t._v(" vue-ts")])])])])])])]),e("div",{staticStyle:{position:"absolute",height:"0px",width:"1px","border-bottom":"0px solid transparent",top:"115px"}}),e("div",{staticClass:"CodeMirror-gutters",staticStyle:{display:"none",height:"115px"}})])])])]),e("li",[e("p",[t._v("运行成功结果如图")]),e("p",[e("img",{attrs:{src:a(2554),referrerPolicy:"no-referrer"}})])])]),e("h4",[e("a",{staticClass:"md-header-anchor",attrs:{name:"header-n50"}}),t._v("项目结构")]),e("ol",{attrs:{start:""}},[e("li",[e("p",[t._v("预处理")]),e("ul",[e("li",[e("p",[t._v("清空 src 里面的所有内容。")])]),e("li",[e("p",[t._v("在 "),e("code",[t._v("src/main.js")]),t._v(" 中按需导入 "),e("code",[t._v("createApp")]),t._v(" 函数")])]),e("li",[e("p",[t._v("定义 "),e("code",[t._v("App.vue")]),t._v(" 根组件，导入到 "),e("code",[t._v("main.js")]),t._v("。")])]),e("li",[e("p",[t._v("使用 "),e("code",[t._v("createApp")]),t._v(" 函数基于 "),e("code",[t._v("App.vue")]),t._v(" 根组件创建应用实例。")])]),e("li",[e("p",[t._v("挂载至 "),e("code",[t._v("index.html")]),t._v(" 的 "),e("code",[t._v("#app")]),t._v(" 容器。")]),e("pre",{staticClass:"md-fences md-end-block ty-contain-cm modeLoaded",attrs:{spellcheck:"false",lang:"js"}},[e("div",{staticClass:"CodeMirror cm-s-inner CodeMirror-wrap",attrs:{lang:"js"}},[e("div",{staticStyle:{overflow:"hidden",position:"relative",width:"3px",height:"0px",top:"0px",left:"8px"}},[e("textarea",{staticStyle:{position:"absolute",bottom:"-1em",padding:"0px",width:"1000px",height:"1em",outline:"none"},attrs:{autocorrect:"off",autocapitalize:"off",spellcheck:"false",tabindex:"0"}})]),e("div",{staticClass:"CodeMirror-scrollbar-filler",attrs:{"cm-not-content":"true"}}),e("div",{staticClass:"CodeMirror-gutter-filler",attrs:{"cm-not-content":"true"}}),e("div",{staticClass:"CodeMirror-scroll",attrs:{tabindex:"-1"}},[e("div",{staticClass:"CodeMirror-sizer",staticStyle:{"margin-left":"0px","margin-bottom":"0px","border-right-width":"0px","padding-right":"0px","padding-bottom":"0px"}},[e("div",{staticStyle:{position:"relative",top:"0px"}},[e("div",{staticClass:"CodeMirror-lines",attrs:{role:"presentation"}},[e("div",{staticStyle:{position:"relative",outline:"none"},attrs:{role:"presentation"}},[e("div",{staticClass:"CodeMirror-measure"},[e("pre",[e("span",[t._v("xxxxxxxxxx")])])]),e("div",{staticClass:"CodeMirror-measure"}),e("div",{staticStyle:{position:"relative","z-index":"1"}}),e("div",{staticClass:"CodeMirror-code",attrs:{role:"presentation"}},[e("div",{staticClass:"CodeMirror-activeline",staticStyle:{position:"relative"}},[e("div",{staticClass:"CodeMirror-activeline-background CodeMirror-linebackground"}),e("div",{staticClass:"CodeMirror-gutter-background CodeMirror-activeline-gutter",staticStyle:{left:"0px",width:"0px"}}),e("pre",{staticClass:"CodeMirror-line",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[e("span",{staticClass:"cm-comment"},[t._v("//main.js")])])])]),e("pre",{staticClass:"CodeMirror-line",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[e("span",{staticClass:"cm-comment"},[t._v("// 1. 导入 createApp 函数，不再是曾经的 Vue 了")])])]),e("pre",{staticClass:"CodeMirror-line",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[e("span",{staticClass:"cm-comment"},[t._v("// 2. 编写一个根组件 App.vue，导入进来")])])]),e("pre",{staticClass:"CodeMirror-line",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[e("span",{staticClass:"cm-comment"},[t._v("// 3. 基于根组件创建应用实例，类似 Vue2 的 vm，但比 vm 更轻量")])])]),e("pre",{staticClass:"CodeMirror-line",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[e("span",{staticClass:"cm-comment"},[t._v("// 4. 挂载到 index.html 的 #app 容器")])])]),e("pre",{staticClass:"CodeMirror-line",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[e("span",{staticClass:"cm-keyword"},[t._v("import")]),t._v(" { "),e("span",{staticClass:"cm-def"},[t._v("createApp")]),t._v(" } "),e("span",{staticClass:"cm-keyword"},[t._v("from")]),t._v(" "),e("span",{staticClass:"cm-string"},[t._v("'vue'")])])]),e("pre",{staticClass:"CodeMirror-line",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[e("span",{staticClass:"cm-keyword"},[t._v("import")]),t._v(" "),e("span",{staticClass:"cm-def"},[t._v("App")]),t._v(" "),e("span",{staticClass:"cm-keyword"},[t._v("from")]),t._v(" "),e("span",{staticClass:"cm-string"},[t._v("'./App.vue'")])])]),e("pre",{staticClass:"CodeMirror-line",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[e("span",{staticClass:"cm-keyword"},[t._v("const")]),t._v(" "),e("span",{staticClass:"cm-def"},[t._v("app")]),t._v(" "),e("span",{staticClass:"cm-operator"},[t._v("=")]),t._v(" "),e("span",{staticClass:"cm-variable"},[t._v("createApp")]),t._v("("),e("span",{staticClass:"cm-variable"},[t._v("App")]),t._v(")")])]),e("pre",{staticClass:"CodeMirror-line",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[e("span",{staticClass:"cm-variable"},[t._v("app")]),t._v("."),e("span",{staticClass:"cm-property"},[t._v("mount")]),t._v("("),e("span",{staticClass:"cm-string"},[t._v("'#app'")]),t._v(")")])]),e("pre",{staticClass:"CodeMirror-line",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[e("span",{attrs:{"cm-text":""}},[t._v("​")])])]),e("pre",{staticClass:"CodeMirror-line",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[e("span",{staticClass:"cm-comment"},[t._v("// Vue2: new Vue()、new VueRouter()、new Vuex.Store()")])])]),e("pre",{staticClass:"CodeMirror-line",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[e("span",{staticClass:"cm-comment"},[t._v("// Vue3: createApp()、createRouter()、createStore()")])])])])])])])]),e("div",{staticStyle:{position:"absolute",height:"0px",width:"1px","border-bottom":"0px solid transparent",top:"276px"}}),e("div",{staticClass:"CodeMirror-gutters",staticStyle:{display:"none",height:"276px"}})])])]),e("pre",{staticClass:"md-fences md-end-block ty-contain-cm modeLoaded",attrs:{spellcheck:"false",lang:"vue"}},[e("div",{staticClass:"CodeMirror cm-s-inner CodeMirror-wrap",attrs:{lang:"vue"}},[e("div",{staticStyle:{overflow:"hidden",position:"relative",width:"3px",height:"0px",top:"0px",left:"8px"}},[e("textarea",{staticStyle:{position:"absolute",bottom:"-1em",padding:"0px",width:"1000px",height:"1em",outline:"none"},attrs:{autocorrect:"off",autocapitalize:"off",spellcheck:"false",tabindex:"0"}})]),e("div",{staticClass:"CodeMirror-scrollbar-filler",attrs:{"cm-not-content":"true"}}),e("div",{staticClass:"CodeMirror-gutter-filler",attrs:{"cm-not-content":"true"}}),e("div",{staticClass:"CodeMirror-scroll",attrs:{tabindex:"-1"}},[e("div",{staticClass:"CodeMirror-sizer",staticStyle:{"margin-left":"0px","margin-bottom":"0px","border-right-width":"0px","padding-right":"0px","padding-bottom":"0px"}},[e("div",{staticStyle:{position:"relative",top:"0px"}},[e("div",{staticClass:"CodeMirror-lines",attrs:{role:"presentation"}},[e("div",{staticStyle:{position:"relative",outline:"none"},attrs:{role:"presentation"}},[e("div",{staticClass:"CodeMirror-measure"},[e("pre",[e("span",[t._v("xxxxxxxxxx")])])]),e("div",{staticClass:"CodeMirror-measure"}),e("div",{staticStyle:{position:"relative","z-index":"1"}}),e("div",{staticClass:"CodeMirror-code",attrs:{role:"presentation"}},[e("div",{staticClass:"CodeMirror-activeline",staticStyle:{position:"relative"}},[e("div",{staticClass:"CodeMirror-activeline-background CodeMirror-linebackground"}),e("div",{staticClass:"CodeMirror-gutter-background CodeMirror-activeline-gutter",staticStyle:{left:"0px",width:"0px"}}),e("pre",{staticClass:"CodeMirror-line",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[e("span",{staticClass:"cm-comment"},[t._v("\x3c!-- App.vue --\x3e")])])])]),e("pre",{staticClass:"CodeMirror-line",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[e("span",{staticClass:"cm-tag cm-bracket"},[t._v("<")]),e("span",{staticClass:"cm-tag"},[t._v("template")]),e("span",{staticClass:"cm-tag cm-bracket"},[t._v(">")])])]),e("pre",{staticClass:"CodeMirror-line",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[t._v("    "),e("span",{staticClass:"cm-tag cm-bracket"},[t._v("<")]),e("span",{staticClass:"cm-tag"},[t._v("div")]),t._v(" "),e("span",{staticClass:"cm-attribute"},[t._v("class")]),t._v("="),e("span",{staticClass:"cm-string"},[t._v('"container"')]),e("span",{staticClass:"cm-tag cm-bracket"},[t._v(">")]),t._v("我是根组件"),e("span",{staticClass:"cm-tag cm-bracket"},[t._v("</")]),e("span",{staticClass:"cm-tag"},[t._v("div")]),e("span",{staticClass:"cm-tag cm-bracket"},[t._v(">")])])]),e("pre",{staticClass:"CodeMirror-line",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[e("span",{staticClass:"cm-tag cm-bracket"},[t._v("</")]),e("span",{staticClass:"cm-tag"},[t._v("template")]),e("span",{staticClass:"cm-tag cm-bracket"},[t._v(">")])])]),e("pre",{staticClass:"CodeMirror-line",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[e("span",{staticClass:"cm-tag cm-bracket"},[t._v("<")]),e("span",{staticClass:"cm-tag"},[t._v("script")]),e("span",{staticClass:"cm-tag cm-bracket"},[t._v(">")])])]),e("pre",{staticClass:"CodeMirror-line",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[t._v("    "),e("span",{staticClass:"cm-keyword"},[t._v("export")]),t._v(" "),e("span",{staticClass:"cm-keyword"},[t._v("default")]),t._v(" {")])]),e("pre",{staticClass:"CodeMirror-line",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[t._v("        "),e("span",{staticClass:"cm-property"},[t._v("name")]),t._v(": "),e("span",{staticClass:"cm-string"},[t._v("'App'")]),t._v(",")])]),e("pre",{staticClass:"CodeMirror-line",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[t._v("    }")])]),e("pre",{staticClass:"CodeMirror-line",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[e("span",{staticClass:"cm-tag cm-bracket"},[t._v("</")]),e("span",{staticClass:"cm-tag"},[t._v("script")]),e("span",{staticClass:"cm-tag cm-bracket"},[t._v(">")])])])])])])])]),e("div",{staticStyle:{position:"absolute",height:"0px",width:"1px","border-bottom":"0px solid transparent",top:"207px"}}),e("div",{staticClass:"CodeMirror-gutters",staticStyle:{display:"none",height:"207px"}})])])]),e("pre",{staticClass:"md-fences md-end-block ty-contain-cm modeLoaded",staticStyle:{"break-inside":"unset"},attrs:{spellcheck:"false",lang:"html"}},[e("div",{staticClass:"CodeMirror cm-s-inner CodeMirror-wrap",attrs:{lang:"html"}},[e("div",{staticStyle:{overflow:"hidden",position:"relative",width:"3px",height:"0px",top:"0px",left:"8px"}},[e("textarea",{staticStyle:{position:"absolute",bottom:"-1em",padding:"0px",width:"1000px",height:"1em",outline:"none"},attrs:{autocorrect:"off",autocapitalize:"off",spellcheck:"false",tabindex:"0"}})]),e("div",{staticClass:"CodeMirror-scrollbar-filler",attrs:{"cm-not-content":"true"}}),e("div",{staticClass:"CodeMirror-gutter-filler",attrs:{"cm-not-content":"true"}}),e("div",{staticClass:"CodeMirror-scroll",attrs:{tabindex:"-1"}},[e("div",{staticClass:"CodeMirror-sizer",staticStyle:{"margin-left":"0px","margin-bottom":"0px","border-right-width":"0px","padding-right":"0px","padding-bottom":"0px"}},[e("div",{staticStyle:{position:"relative",top:"0px"}},[e("div",{staticClass:"CodeMirror-lines",attrs:{role:"presentation"}},[e("div",{staticStyle:{position:"relative",outline:"none"},attrs:{role:"presentation"}},[e("div",{staticClass:"CodeMirror-measure"},[e("pre",[e("span",[t._v("xxxxxxxxxx")])])]),e("div",{staticClass:"CodeMirror-measure"}),e("div",{staticStyle:{position:"relative","z-index":"1"}}),e("div",{staticClass:"CodeMirror-code",attrs:{role:"presentation"}},[e("div",{staticClass:"CodeMirror-activeline",staticStyle:{position:"relative"}},[e("div",{staticClass:"CodeMirror-activeline-background CodeMirror-linebackground"}),e("div",{staticClass:"CodeMirror-gutter-background CodeMirror-activeline-gutter",staticStyle:{left:"0px",width:"0px"}}),e("pre",{staticClass:"CodeMirror-line",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[e("span",{staticClass:"cm-comment"},[t._v("\x3c!-- index.html --\x3e")])])])]),e("pre",{staticClass:"CodeMirror-line",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[e("span",{staticClass:"cm-meta"},[t._v("<!DOCTYPE html>")])])]),e("pre",{staticClass:"CodeMirror-line",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[e("span",{staticClass:"cm-tag cm-bracket"},[t._v("<")]),e("span",{staticClass:"cm-tag"},[t._v("html")]),t._v(" "),e("span",{staticClass:"cm-attribute"},[t._v("lang")]),t._v("="),e("span",{staticClass:"cm-string"},[t._v('"en"')]),e("span",{staticClass:"cm-tag cm-bracket"},[t._v(">")])])]),e("pre",{staticClass:"CodeMirror-line",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[t._v("    "),e("span",{staticClass:"cm-tag cm-bracket"},[t._v("<")]),e("span",{staticClass:"cm-tag"},[t._v("head")]),e("span",{staticClass:"cm-tag cm-bracket"},[t._v(">")])])]),e("pre",{staticClass:"CodeMirror-line",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[t._v("        "),e("span",{staticClass:"cm-tag cm-bracket"},[t._v("<")]),e("span",{staticClass:"cm-tag"},[t._v("meta")]),t._v(" "),e("span",{staticClass:"cm-attribute"},[t._v("charset")]),t._v("="),e("span",{staticClass:"cm-string"},[t._v('"UTF-8"')]),t._v(" "),e("span",{staticClass:"cm-tag cm-bracket"},[t._v("/>")])])]),e("pre",{staticClass:"CodeMirror-line",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[t._v("        "),e("span",{staticClass:"cm-tag cm-bracket"},[t._v("<")]),e("span",{staticClass:"cm-tag"},[t._v("link")]),t._v(" "),e("span",{staticClass:"cm-attribute"},[t._v("rel")]),t._v("="),e("span",{staticClass:"cm-string"},[t._v('"icon"')]),t._v(" "),e("span",{staticClass:"cm-attribute"},[t._v("href")]),t._v("="),e("span",{staticClass:"cm-string"},[t._v('"/favicon.ico"')]),t._v(" "),e("span",{staticClass:"cm-tag cm-bracket"},[t._v("/>")])])]),e("pre",{staticClass:"CodeMirror-line",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[t._v("        "),e("span",{staticClass:"cm-tag cm-bracket"},[t._v("<")]),e("span",{staticClass:"cm-tag"},[t._v("meta")]),t._v(" "),e("span",{staticClass:"cm-attribute"},[t._v("name")]),t._v("="),e("span",{staticClass:"cm-string"},[t._v('"viewport"')]),t._v(" "),e("span",{staticClass:"cm-attribute"},[t._v("content")]),t._v("="),e("span",{staticClass:"cm-string"},[t._v('"width=device-width, initial-scale=1.0"')]),t._v(" "),e("span",{staticClass:"cm-tag cm-bracket"},[t._v("/>")])])]),e("pre",{staticClass:"CodeMirror-line",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[t._v("        "),e("span",{staticClass:"cm-tag cm-bracket"},[t._v("<")]),e("span",{staticClass:"cm-tag"},[t._v("title")]),e("span",{staticClass:"cm-tag cm-bracket"},[t._v(">")]),t._v("Vite App"),e("span",{staticClass:"cm-tag cm-bracket"},[t._v("</")]),e("span",{staticClass:"cm-tag"},[t._v("title")]),e("span",{staticClass:"cm-tag cm-bracket"},[t._v(">")])])]),e("pre",{staticClass:"CodeMirror-line",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[t._v("    "),e("span",{staticClass:"cm-tag cm-bracket"},[t._v("</")]),e("span",{staticClass:"cm-tag"},[t._v("head")]),e("span",{staticClass:"cm-tag cm-bracket"},[t._v(">")])])]),e("pre",{staticClass:"CodeMirror-line",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[e("span",{attrs:{"cm-text":""}},[t._v("​")])])]),e("pre",{staticClass:"CodeMirror-line",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[t._v("    "),e("span",{staticClass:"cm-tag cm-bracket"},[t._v("<")]),e("span",{staticClass:"cm-tag"},[t._v("body")]),e("span",{staticClass:"cm-tag cm-bracket"},[t._v(">")])])]),e("pre",{staticClass:"CodeMirror-line",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[t._v("        "),e("span",{staticClass:"cm-comment"},[t._v("\x3c!-- 容器，由 Vue 创建实例来渲染 --\x3e")])])]),e("pre",{staticClass:"CodeMirror-line",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[t._v("        "),e("span",{staticClass:"cm-tag cm-bracket"},[t._v("<")]),e("span",{staticClass:"cm-tag"},[t._v("div")]),t._v(" "),e("span",{staticClass:"cm-attribute"},[t._v("id")]),t._v("="),e("span",{staticClass:"cm-string"},[t._v('"app"')]),e("span",{staticClass:"cm-tag cm-bracket"},[t._v("></")]),e("span",{staticClass:"cm-tag"},[t._v("div")]),e("span",{staticClass:"cm-tag cm-bracket"},[t._v(">")])])]),e("pre",{staticClass:"CodeMirror-line",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[t._v("        "),e("span",{staticClass:"cm-comment"},[t._v("\x3c!-- Webpack 导入的是打包后的代码 --\x3e")])])]),e("pre",{staticClass:"CodeMirror-line",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[t._v("        "),e("span",{staticClass:"cm-comment"},[t._v("\x3c!-- Vite 直接导入的就是源码 --\x3e")])])]),e("pre",{staticClass:"CodeMirror-line",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[t._v("        "),e("span",{staticClass:"cm-tag cm-bracket"},[t._v("<")]),e("span",{staticClass:"cm-tag"},[t._v("script")]),t._v(" "),e("span",{staticClass:"cm-attribute"},[t._v("type")]),t._v("="),e("span",{staticClass:"cm-string"},[t._v('"module"')]),t._v(" "),e("span",{staticClass:"cm-attribute"},[t._v("src")]),t._v("="),e("span",{staticClass:"cm-string"},[t._v('"/src/main.js"')]),e("span",{staticClass:"cm-tag cm-bracket"},[t._v("></")]),e("span",{staticClass:"cm-tag"},[t._v("script")]),e("span",{staticClass:"cm-tag cm-bracket"},[t._v(">")])])]),e("pre",{staticClass:"CodeMirror-line",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[t._v("    "),e("span",{staticClass:"cm-tag cm-bracket"},[t._v("</")]),e("span",{staticClass:"cm-tag"},[t._v("body")]),e("span",{staticClass:"cm-tag cm-bracket"},[t._v(">")])])]),e("pre",{staticClass:"CodeMirror-line",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[e("span",{staticClass:"cm-tag cm-bracket"},[t._v("</")]),e("span",{staticClass:"cm-tag"},[t._v("html")]),e("span",{staticClass:"cm-tag cm-bracket"},[t._v(">")])])])])])])])]),e("div",{staticStyle:{position:"absolute",height:"0px",width:"1px","border-bottom":"0px solid transparent",top:"414px"}}),e("div",{staticClass:"CodeMirror-gutters",staticStyle:{display:"none",height:"414px"}})])])]),e("p",[t._v(" ")])])])])]),e("p",[t._v(" ")]),e("h4",[e("a",{staticClass:"md-header-anchor",attrs:{name:"header-n70"}}),t._v("Options API 组合API")]),e("ol",{attrs:{start:""}},[e("li",[e("p",[t._v("VUE2和vue3的优缺点")]),e("ul",[e("li",[e("p",[t._v("vue2")]),e("ol",{attrs:{start:""}},[e("li",[t._v("优点：易于学习和使用，写代码的位置已经约定好。")]),e("li",[t._v("缺点：对于大型项目，不利于代码的复用、不利于管理和维护。")]),e("li",[t._v("解释：同一功能的数据和业务逻辑分散在同一个文件的 N 个地方")])])]),e("li",[e("p",[t._v("vue3")]),e("ol",{attrs:{start:""}},[e("li",[t._v("优点：可以把同一功能的"),e("strong",[t._v("数据")]),t._v("和"),e("strong",[t._v("业务逻辑")]),t._v("组织到一起，方便复用和维护。")]),e("li",[t._v("缺点：需要有良好的代码组织和拆分能力，相对没有 Vue2 容易上手。")]),e("li",[t._v("注意：为了能让大家较好的过渡到 Vue3.0 版本，目前也是支持 Vue2.x 选项 API 的写法")])])])])])]),e("h4",[e("a",{staticClass:"md-header-anchor",attrs:{name:"header-n93"}}),t._v("setup 入口函数")]),e("h5",[e("a",{staticClass:"md-header-anchor",attrs:{name:"header-n94"}}),t._v("概览")]),e("ol",{attrs:{start:""}},[e("li",[e("p",[e("code",[t._v("setup")]),t._v(" 是 Vue3 中新增的组件配置项，作为组合 API 的入口函数")])]),e("li",[e("p",[t._v("执行时机：实例创建前调用，甚至早于 Vue2 中的 beforeCreate")])]),e("li",[e("p",[t._v("注意点：由于执行 setup 的时候实例还没有 created，所以在 setup 中是不能直接使用 data 和 methods 中的数据的，所以 Vue3 setup 中的 this 也被绑定为了 undefined")])]),e("li",[e("p",[t._v("小案例")]),e("pre",{staticClass:"md-fences md-end-block ty-contain-cm modeLoaded",staticStyle:{"break-inside":"unset"},attrs:{spellcheck:"false",lang:"vue"}},[e("div",{staticClass:"CodeMirror cm-s-inner CodeMirror-wrap",attrs:{lang:"vue"}},[e("div",{staticStyle:{overflow:"hidden",position:"relative",width:"3px",height:"0px",top:"0px",left:"8px"}},[e("textarea",{staticStyle:{position:"absolute",bottom:"-1em",padding:"0px",width:"1000px",height:"1em",outline:"none"},attrs:{autocorrect:"off",autocapitalize:"off",spellcheck:"false",tabindex:"0"}})]),e("div",{staticClass:"CodeMirror-scrollbar-filler",attrs:{"cm-not-content":"true"}}),e("div",{staticClass:"CodeMirror-gutter-filler",attrs:{"cm-not-content":"true"}}),e("div",{staticClass:"CodeMirror-scroll",attrs:{tabindex:"-1"}},[e("div",{staticClass:"CodeMirror-sizer",staticStyle:{"margin-left":"0px","margin-bottom":"0px","border-right-width":"0px","padding-right":"0px","padding-bottom":"0px"}},[e("div",{staticStyle:{position:"relative",top:"0px"}},[e("div",{staticClass:"CodeMirror-lines",attrs:{role:"presentation"}},[e("div",{staticStyle:{position:"relative",outline:"none"},attrs:{role:"presentation"}},[e("div",{staticClass:"CodeMirror-measure"},[e("pre",[e("span",[t._v("xxxxxxxxxx")])])]),e("div",{staticClass:"CodeMirror-measure"}),e("div",{staticStyle:{position:"relative","z-index":"1"}}),e("div",{staticClass:"CodeMirror-code",attrs:{role:"presentation"}},[e("div",{staticClass:"CodeMirror-activeline",staticStyle:{position:"relative"}},[e("div",{staticClass:"CodeMirror-activeline-background CodeMirror-linebackground"}),e("div",{staticClass:"CodeMirror-gutter-background CodeMirror-activeline-gutter",staticStyle:{left:"0px",width:"0px"}}),e("pre",{staticClass:"CodeMirror-line",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[e("span",{staticClass:"cm-comment"},[t._v("\x3c!-- App.vue --\x3e")])])])]),e("pre",{staticClass:"CodeMirror-line",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[e("span",{staticClass:"cm-tag cm-bracket"},[t._v("<")]),e("span",{staticClass:"cm-tag"},[t._v("template")]),e("span",{staticClass:"cm-tag cm-bracket"},[t._v(">")])])]),e("pre",{staticClass:"CodeMirror-line",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[t._v("    "),e("span",{staticClass:"cm-tag cm-bracket"},[t._v("<")]),e("span",{staticClass:"cm-tag"},[t._v("div")]),t._v(" "),e("span",{staticClass:"cm-attribute"},[t._v("class")]),t._v("="),e("span",{staticClass:"cm-string"},[t._v('"container"')]),e("span",{staticClass:"cm-tag cm-bracket"},[t._v(">")]),t._v("num:"),e("span",{staticClass:"cm-meta cm-mustache"},[t._v("{.{num}}")]),e("span",{staticClass:"cm-tag cm-bracket"},[t._v("</")]),e("span",{staticClass:"cm-tag"},[t._v("div")]),e("span",{staticClass:"cm-tag cm-bracket"},[t._v(">")])])]),e("pre",{staticClass:"CodeMirror-line",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[e("span",{staticClass:"cm-tag cm-bracket"},[t._v("</")]),e("span",{staticClass:"cm-tag"},[t._v("template")]),e("span",{staticClass:"cm-tag cm-bracket"},[t._v(">")])])]),e("pre",{staticClass:"CodeMirror-line",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[e("span",{staticClass:"cm-tag cm-bracket"},[t._v("<")]),e("span",{staticClass:"cm-tag"},[t._v("script")]),e("span",{staticClass:"cm-tag cm-bracket"},[t._v(">")])])]),e("pre",{staticClass:"CodeMirror-line",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[t._v("    "),e("span",{staticClass:"cm-keyword"},[t._v("export")]),t._v(" "),e("span",{staticClass:"cm-keyword"},[t._v("default")]),t._v(" {")])]),e("pre",{staticClass:"CodeMirror-line",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[t._v("        "),e("span",{staticClass:"cm-property"},[t._v("name")]),t._v(": "),e("span",{staticClass:"cm-string"},[t._v("'App'")]),t._v(",")])]),e("pre",{staticClass:"CodeMirror-line",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[t._v("        "),e("span",{staticClass:"cm-comment"},[t._v("// vue3的入口函数执行的时机比beforecreate还早")])])]),e("pre",{staticClass:"CodeMirror-line",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[t._v("        "),e("span",{staticClass:"cm-property"},[t._v("setup")]),t._v("(){")])]),e("pre",{staticClass:"CodeMirror-line",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[t._v("            "),e("span",{staticClass:"cm-comment"},[t._v("// setup中的this指向是undefined")])])]),e("pre",{staticClass:"CodeMirror-line",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[t._v("            "),e("span",{staticClass:"cm-comment"},[t._v("// 不建议使用选项API比如date，methods")])])]),e("pre",{staticClass:"CodeMirror-line",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[t._v("            "),e("span",{staticClass:"cm-comment"},[t._v("// 所有的数据都可以在此处定义，只是必须要通过return返回")])])]),e("pre",{staticClass:"CodeMirror-line",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[e("span",{attrs:{"cm-text":""}},[t._v("​")])])]),e("pre",{staticClass:"CodeMirror-line",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[t._v("            "),e("span",{staticClass:"cm-keyword"},[t._v("const")]),t._v(" "),e("span",{staticClass:"cm-def"},[t._v("num")]),t._v(" "),e("span",{staticClass:"cm-operator"},[t._v("=")]),t._v(" "),e("span",{staticClass:"cm-number"},[t._v("8")])])]),e("pre",{staticClass:"CodeMirror-line",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[e("span",{attrs:{"cm-text":""}},[t._v("​")])])]),e("pre",{staticClass:"CodeMirror-line",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[t._v("            "),e("span",{staticClass:"cm-comment"},[t._v("// return一个对象，对象中的数据可以直接在模板中使用")])])]),e("pre",{staticClass:"CodeMirror-line",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[t._v("            "),e("span",{staticClass:"cm-keyword"},[t._v("return")]),t._v(" {"),e("span",{staticClass:"cm-property"},[t._v("num")]),t._v("}")])]),e("pre",{staticClass:"CodeMirror-line",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[e("span",{attrs:{"cm-text":""}},[t._v("​")])])]),e("pre",{staticClass:"CodeMirror-line",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[t._v("        }")])]),e("pre",{staticClass:"CodeMirror-line",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[t._v("    }")])]),e("pre",{staticClass:"CodeMirror-line",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[e("span",{staticClass:"cm-tag cm-bracket"},[t._v("</")]),e("span",{staticClass:"cm-tag"},[t._v("script")]),e("span",{staticClass:"cm-tag cm-bracket"},[t._v(">")])])])])])])])]),e("div",{staticStyle:{position:"absolute",height:"0px",width:"1px","border-bottom":"0px solid transparent",top:"483px"}}),e("div",{staticClass:"CodeMirror-gutters",staticStyle:{display:"none",height:"483px"}})])])])]),e("li",[e("p",[t._v("小拓展：return里只能返回数据吗？")]),e("pre",{staticClass:"md-fences md-end-block ty-contain-cm modeLoaded",staticStyle:{"break-inside":"unset"},attrs:{spellcheck:"false",lang:"vue"}},[e("div",{staticClass:"CodeMirror cm-s-inner CodeMirror-wrap",attrs:{lang:"vue"}},[e("div",{staticStyle:{overflow:"hidden",position:"relative",width:"3px",height:"0px",top:"0px",left:"8px"}},[e("textarea",{staticStyle:{position:"absolute",bottom:"-1em",padding:"0px",width:"1000px",height:"1em",outline:"none"},attrs:{autocorrect:"off",autocapitalize:"off",spellcheck:"false",tabindex:"0"}})]),e("div",{staticClass:"CodeMirror-scrollbar-filler",attrs:{"cm-not-content":"true"}}),e("div",{staticClass:"CodeMirror-gutter-filler",attrs:{"cm-not-content":"true"}}),e("div",{staticClass:"CodeMirror-scroll",attrs:{tabindex:"-1"}},[e("div",{staticClass:"CodeMirror-sizer",staticStyle:{"margin-left":"0px","margin-bottom":"0px","border-right-width":"0px","padding-right":"0px","padding-bottom":"0px"}},[e("div",{staticStyle:{position:"relative",top:"0px"}},[e("div",{staticClass:"CodeMirror-lines",attrs:{role:"presentation"}},[e("div",{staticStyle:{position:"relative",outline:"none"},attrs:{role:"presentation"}},[e("div",{staticClass:"CodeMirror-measure"},[e("pre",[e("span",[t._v("xxxxxxxxxx")])])]),e("div",{staticClass:"CodeMirror-measure"}),e("div",{staticStyle:{position:"relative","z-index":"1"}}),e("div",{staticClass:"CodeMirror-code",attrs:{role:"presentation"}},[e("div",{staticClass:"CodeMirror-activeline",staticStyle:{position:"relative"}},[e("div",{staticClass:"CodeMirror-activeline-background CodeMirror-linebackground"}),e("div",{staticClass:"CodeMirror-gutter-background CodeMirror-activeline-gutter",staticStyle:{left:"0px",width:"0px"}}),e("pre",{staticClass:"CodeMirror-line",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[e("span",{staticClass:"cm-comment"},[t._v("\x3c!-- App.vue --\x3e")])])])]),e("pre",{staticClass:"CodeMirror-line",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[e("span",{staticClass:"cm-tag cm-bracket"},[t._v("<")]),e("span",{staticClass:"cm-tag"},[t._v("template")]),e("span",{staticClass:"cm-tag cm-bracket"},[t._v(">")])])]),e("pre",{staticClass:"CodeMirror-line",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[e("span",{staticClass:"cm-tag cm-bracket"},[t._v("</")]),e("span",{staticClass:"cm-tag"},[t._v("template")]),e("span",{staticClass:"cm-tag cm-bracket"},[t._v(">")])])]),e("pre",{staticClass:"CodeMirror-line",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[e("span",{staticClass:"cm-tag cm-bracket"},[t._v("<")]),e("span",{staticClass:"cm-tag"},[t._v("script")]),e("span",{staticClass:"cm-tag cm-bracket"},[t._v(">")])])]),e("pre",{staticClass:"CodeMirror-line",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[t._v("    "),e("span",{staticClass:"cm-keyword"},[t._v("import")]),t._v(" {"),e("span",{staticClass:"cm-def"},[t._v("h")]),t._v("} "),e("span",{staticClass:"cm-keyword"},[t._v("from")]),t._v(" "),e("span",{staticClass:"cm-string"},[t._v("'vue'")])])]),e("pre",{staticClass:"CodeMirror-line",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[t._v("    "),e("span",{staticClass:"cm-keyword"},[t._v("export")]),t._v(" "),e("span",{staticClass:"cm-keyword"},[t._v("default")]),t._v(" {")])]),e("pre",{staticClass:"CodeMirror-line",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[t._v("        "),e("span",{staticClass:"cm-property"},[t._v("name")]),t._v(": "),e("span",{staticClass:"cm-string"},[t._v("'App'")]),t._v(",")])]),e("pre",{staticClass:"CodeMirror-line",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[t._v("        "),e("span",{staticClass:"cm-property"},[t._v("setup")]),t._v("(){")])]),e("pre",{staticClass:"CodeMirror-line",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[t._v("            "),e("span",{staticClass:"cm-keyword"},[t._v("const")]),t._v(" "),e("span",{staticClass:"cm-def"},[t._v("num")]),t._v(" "),e("span",{staticClass:"cm-operator"},[t._v("=")]),t._v(" "),e("span",{staticClass:"cm-number"},[t._v("8")])])]),e("pre",{staticClass:"CodeMirror-line",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[e("span",{attrs:{"cm-text":""}},[t._v("​")])])]),e("pre",{staticClass:"CodeMirror-line",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[t._v("            "),e("span",{staticClass:"cm-comment"},[t._v("// return中不仅可以返回数据还可以返回渲染函数 h")])])]),e("pre",{staticClass:"CodeMirror-line",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[t._v("            "),e("span",{staticClass:"cm-keyword"},[t._v("return")]),t._v(" ()"),e("span",{staticClass:"cm-operator"},[t._v("=>")]),e("span",{staticClass:"cm-variable"},[t._v("h")]),t._v("("),e("span",{staticClass:"cm-string"},[t._v("'h2'")]),t._v(","),e("span",{staticClass:"cm-variable-2"},[t._v("num")]),t._v(")")])]),e("pre",{staticClass:"CodeMirror-line",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[e("span",{attrs:{"cm-text":""}},[t._v("​")])])]),e("pre",{staticClass:"CodeMirror-line",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[t._v("        }")])]),e("pre",{staticClass:"CodeMirror-line",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[t._v("    }")])]),e("pre",{staticClass:"CodeMirror-line",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[e("span",{staticClass:"cm-tag cm-bracket"},[t._v("</")]),e("span",{staticClass:"cm-tag"},[t._v("script")]),e("span",{staticClass:"cm-tag cm-bracket"},[t._v(">")])])])])])])])]),e("div",{staticStyle:{position:"absolute",height:"0px",width:"1px","border-bottom":"0px solid transparent",top:"368px"}}),e("div",{staticClass:"CodeMirror-gutters",staticStyle:{display:"none",height:"368px"}})])])])]),e("li",[e("p",[t._v("数据和方法都写在 setup 函数中，方法也需要声明，并"),e("strong",[t._v("通过 return 进行返回可在模版中直接使用")]),t._v("（一般情况下 setup 不能为异步函数）。")]),e("p",[t._v("方法的声明方法：")]),e("pre",{staticClass:"md-fences md-end-block ty-contain-cm modeLoaded",attrs:{spellcheck:"false",lang:"js"}},[e("div",{staticClass:"CodeMirror cm-s-inner CodeMirror-wrap",attrs:{lang:"js"}},[e("div",{staticStyle:{overflow:"hidden",position:"relative",width:"3px",height:"0px",top:"0px",left:"8px"}},[e("textarea",{staticStyle:{position:"absolute",bottom:"-1em",padding:"0px",width:"1000px",height:"1em",outline:"none"},attrs:{autocorrect:"off",autocapitalize:"off",spellcheck:"false",tabindex:"0"}})]),e("div",{staticClass:"CodeMirror-scrollbar-filler",attrs:{"cm-not-content":"true"}}),e("div",{staticClass:"CodeMirror-gutter-filler",attrs:{"cm-not-content":"true"}}),e("div",{staticClass:"CodeMirror-scroll",attrs:{tabindex:"-1"}},[e("div",{staticClass:"CodeMirror-sizer",staticStyle:{"margin-left":"0px","margin-bottom":"0px","border-right-width":"0px","padding-right":"0px","padding-bottom":"0px"}},[e("div",{staticStyle:{position:"relative",top:"0px"}},[e("div",{staticClass:"CodeMirror-lines",attrs:{role:"presentation"}},[e("div",{staticStyle:{position:"relative",outline:"none"},attrs:{role:"presentation"}},[e("div",{staticClass:"CodeMirror-measure"},[e("pre",[e("span",[t._v("xxxxxxxxxx")])])]),e("div",{staticClass:"CodeMirror-measure"}),e("div",{staticStyle:{position:"relative","z-index":"1"}}),e("div",{staticClass:"CodeMirror-code",attrs:{role:"presentation"}},[e("div",{staticClass:"CodeMirror-activeline",staticStyle:{position:"relative"}},[e("div",{staticClass:"CodeMirror-activeline-background CodeMirror-linebackground"}),e("div",{staticClass:"CodeMirror-gutter-background CodeMirror-activeline-gutter",staticStyle:{left:"0px",width:"0px"}}),e("pre",{staticClass:"CodeMirror-line",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[t._v(" "),e("span",{staticClass:"cm-keyword"},[t._v("const")]),t._v(" "),e("span",{staticClass:"cm-def"},[t._v("removeItem")]),t._v(" "),e("span",{staticClass:"cm-operator"},[t._v("=")]),t._v(" ("),e("span",{staticClass:"cm-def"},[t._v("index")]),t._v(") "),e("span",{staticClass:"cm-operator"},[t._v("=>")]),t._v(" {")])])]),e("pre",{staticClass:"CodeMirror-line",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[t._v("                "),e("span",{staticClass:"cm-variable"},[t._v("arr")]),t._v("."),e("span",{staticClass:"cm-property"},[t._v("splice")]),t._v("("),e("span",{staticClass:"cm-variable-2"},[t._v("index")]),t._v(", "),e("span",{staticClass:"cm-number"},[t._v("1")]),t._v(")")])]),e("pre",{staticClass:"CodeMirror-line",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[t._v("            }")])])])])])])]),e("div",{staticStyle:{position:"absolute",height:"0px",width:"1px","border-bottom":"0px solid transparent",top:"69px"}}),e("div",{staticClass:"CodeMirror-gutters",staticStyle:{display:"none",height:"69px"}})])])])])]),e("h4",[e("a",{staticClass:"md-header-anchor",attrs:{name:"header-n112"}}),t._v("reactive")]),e("h5",[e("a",{staticClass:"md-header-anchor",attrs:{name:"header-n113"}}),t._v("目的")]),e("p",[t._v("reactive 函数包装数组为响应式数据")]),e("h5",[e("a",{staticClass:"md-header-anchor",attrs:{name:"header-n115"}}),t._v("使用指南")]),e("ol",{attrs:{start:""}},[e("li",[e("p",[e("a",{attrs:{href:"https://v3.cn.vuejs.org/api/basic-reactivity.html#reactive"}},[t._v("reactive")]),t._v(" 是一个函数，用来将普通对象/数组包装成响应式式数据使用，无法直接处理基本数据类型")])]),e("li",[e("p",[t._v("小案例：实现列表的删除与增加")]),e("p",[t._v("抽离文件之后的子文件一般都放在hook这个文件夹里，意为钩子，同react风格一致，最好以use开头")]),e("p",[t._v("useRemove.js")]),e("pre",{staticClass:"md-fences mock-cm md-end-block",staticStyle:{"break-inside":"unset"},attrs:{spellcheck:"false",lang:"js",contenteditable:"false",cid:"n123",mdtype:"fences"}},[t._v("import { reactive } from 'vue'\n\nexport default function removeItem() {\n    // 把对象封装成响应式的\n    const state = reactive({\n        arr: [\n            {\n                id: 0,\n                name: 'yuan',\n            },\n            {\n                id: 1,\n                name: 'yeseng',\n            },\n            {\n                id: 2,\n                name: 'suho',\n            },\n        ]\n    })\n\n    // 删除工作\n    const handleDel = (index) => {\n        state.arr.splice(index, 1)\n    }\n    return {\n        handleDel,\n        state\n    }\n}\n")]),e("p",[t._v("useAdd.js")]),e("pre",{staticClass:"md-fences mock-cm md-end-block",staticStyle:{"break-inside":"unset"},attrs:{spellcheck:"false",lang:"js",contenteditable:"false",cid:"n125",mdtype:"fences"}},[t._v("import { reactive } from 'vue'\n\nexport default function addItem(state) {\n    // 这是要添加的对象\n    const user = reactive({\n        id: +'',\n        name: ''\n    })\n    // 添加的部分\n    const handleSub = () => {\n        // 不能直接赋值，否则数据之间会相互影响\n        state.arr.push({ ...user })\n        // 清空user里的数据\n        user.id = +''\n        user.name = ''\n    }\n    return {\n        handleSub,\n        user\n    }\n}\n")]),e("p",[t._v("App.vue")]),e("pre",{staticClass:"md-fences mock-cm md-end-block",staticStyle:{"break-inside":"unset"},attrs:{spellcheck:"false",lang:"vue",contenteditable:"false",cid:"n127",mdtype:"fences"}},[t._v('\x3c!-- App.vue --\x3e\n<template>\n    <input type="text" v-model="user.id">\n    <br>\n    <input type="text" v-model="user.name">\n    <br>\n    <button type="submit" @click="handleSub">submit</button>\n    <br>\n    <ul>\n        <li v-for="(item,index) in state.arr" @click="handleDel(index)" :key="item.id"> {.{item.name}}</li>\n    </ul>\n</template>\n<script>\n// 按需导入需要的api\nimport  addItem   from \'./hook/useAdd\'\nimport  removeItem  from \'./hook/useRemove\'\n\nexport default {\n    setup() {\n        const { handleDel, state } = removeItem()\n        const { handleSub, user } = addItem(state)\n\n        return {\n            state,\n            handleDel,\n            user,\n            handleSub\n        }\n    }\n}\n<\/script>\n')])])]),e("h4",[e("a",{staticClass:"md-header-anchor",attrs:{name:"header-n128"}}),t._v("ref 函数")]),e("h5",[e("a",{staticClass:"md-header-anchor",attrs:{name:"header-n129"}}),t._v("基本使用")]),e("ol",{attrs:{start:""}},[e("li",[e("p",[t._v("ref 函数，可以把简单数据类型包裹为响应式数据（复杂类型也可以）")])]),e("li",[e("p",[t._v("小案例：计数器")]),e("pre",{staticClass:"md-fences mock-cm md-end-block",staticStyle:{"break-inside":"unset"},attrs:{spellcheck:"false",lang:"vue",contenteditable:"false",cid:"n135",mdtype:"fences"}},[t._v("<template>\n    <p>{.{count}}</p>\n    <button @click=\"handleAdd\">click here add one</button>\n</template>\n<script>\nimport { ref } from 'vue'\nexport default {\n    setup() {\n        // 把任意数据封装成响应式的\n        const count = ref(1)\n\n        const handleAdd = () => {\n            // .value是语法的固定要求\n            count.value++\n        }\n        return {\n            count,\n            handleAdd\n        }\n    }\n}\n<\/script>\n")]),e("p",[t._v("ref 函数，可以把任意数据类型包裹为响应式数据，初始数据为空的情况也是适用的，并且ref的性能要高于reactive，可能逐渐会变得常用起来，不过需要注意使用的时候在setup里需要加.value，在模板中不需要 ")]),e("pre",{staticClass:"md-fences mock-cm md-end-block",staticStyle:{"break-inside":"unset"},attrs:{spellcheck:"false",lang:"vue",contenteditable:"false",cid:"n137",mdtype:"fences"}},[t._v("<template>\n    <p>{.{count && count.name}}</p>\n    <button @click=\"handleAdd\">click here add name</button>\n</template>\n<script>\nimport { ref } from 'vue'\nexport default {\n    setup() {\n        // 把任意数据封装成响应式的\n        const count = ref(null)\n\n        const handleAdd = () => {\n            // .value是语法的固定要求\n            count.value = {\n                name : 'susu'\n            }\n        }\n        return {\n            count,\n            handleAdd\n        }\n    }\n}\n<\/script>\n")])])]),e("h4",[e("a",{staticClass:"md-header-anchor",attrs:{name:"header-n138"}}),t._v("toref")]),e("p",[t._v("toRef 函数的作用：转换"),e("strong",[t._v("响应式对象")]),t._v("中某个属性为单独响应式数据，并且转换后的值和之前是关联的（ref 函数也可以转换，但值非关联）。")]),e("p",[t._v("Q:什么情况下vue3中会丢失响应式？")]),e("p",[t._v("A：reactive解构赋值")]),e("p",[t._v("这种情况我们就可以使用toRef来解决，具体实现代码如下")]),e("pre",{staticClass:"md-fences mock-cm md-end-block",staticStyle:{"break-inside":"unset"},attrs:{spellcheck:"false",lang:"vue",contenteditable:"false",cid:"n143",mdtype:"fences"}},[t._v("<template>\n    <p>{.{name}}</p>\n    <p>{.{age}}</p>\n    <button @click=\"handleClike\">clike here to update</button>\n</template>\n<script>\nimport { reactive, ref, toRef } from 'vue'\nexport default {\n    setup() {\n        // 把任意数据封装成响应式的\n        const obj = reactive({\n            name: 'yeseng',\n            age: '18',\n            work: 'suju'\n        })\n\n        // 转换出来的数据是ref，不要忘记使用value哦\n        const name = toRef(obj,'name')\n        const age = toRef(obj,'age')\n\n        const handleClike = ()=>{\n            name.value = 'suju'\n            console.log(obj);\n        }\n\n        return {\n            name,\n            age,\n            handleClike\n        }\n    }\n}\n<\/script>\n")]),e("p",[t._v("Q：使用toref和ref有什么区别")]),e("p",[t._v("A：ref转换的数据与原数据之间没有关联")]),e("h4",[e("a",{staticClass:"md-header-anchor",attrs:{name:"header-n146"}}),t._v("torefs")]),e("p",[t._v("toRefs 函数的作用：转换"),e("strong",[t._v("响应式对象")]),t._v("中所有属性为单独响应式数据，并且转换后的值和之前是关联的")]),e("p",[t._v("需求案例：模板中需要写 obj.name、obj.age …很麻烦，期望能够直接能使用 name、age 属性")]),e("pre",{staticClass:"md-fences mock-cm md-end-block",staticStyle:{"break-inside":"unset"},attrs:{spellcheck:"false",lang:"vue",contenteditable:"false",cid:"n149",mdtype:"fences"}},[t._v("<template>\n    <p>{.{name}}</p>\n    <p>{.{age}}</p>\n    <button @click=\"handle\">click here to change information</button>\n</template>\n<script >\nimport { reactive, toRefs } from 'vue'\nexport default {\n\n    setup() {\n        const obj = reactive({\n            name:'yesung',\n            age: '37'\n        })\n\n        const handle = () => {\n            obj.name='野松',\n            obj.age='18'\n        }\n\n        return {\n            handle,\n            ...toRefs(obj)\n        }\n    },\n}\n\n<\/script>\n")]),e("h4",[e("a",{staticClass:"md-header-anchor",attrs:{name:"header-n150"}}),t._v("computed")]),e("p",[t._v("需求场景：拼接字符串")]),e("pre",{staticClass:"md-fences mock-cm md-end-block",staticStyle:{"break-inside":"unset"},attrs:{spellcheck:"false",lang:"vue",contenteditable:"false",cid:"n152",mdtype:"fences"}},[t._v("<template>\n    <p>fistname:{.{fistname}}</p>\n    <p>lastname:{.{lastname}}</p>\n    <p>fullname:{.{fullname}}</p>\n\n</template>\n<script >\nimport { computed } from '@vue/reactivity'\nimport { reactive, toRefs } from 'vue'\nexport default {\n\n    setup() {\n        const obj = reactive({\n            fistname:'yesung',\n            lastname: '野松'\n        })\n        obj.fullname = computed(()=>{\n            return obj.fistname + obj.lastname\n        })\n\n        return {\n            ...toRefs(obj)\n        }\n    },\n}\n<\/script>\n")]),e("p",[t._v("进阶版本computed：")]),e("pre",{staticClass:"md-fences mock-cm md-end-block",staticStyle:{"break-inside":"unset"},attrs:{spellcheck:"false",lang:"vue",contenteditable:"false",cid:"n154",mdtype:"fences"}},[t._v("<template>\n    <p>fistname:{.{fistname}}</p>\n    <p>lastname:{.{lastname}}</p>\n    <p>fullname:{.{fullname}}</p>\n\n</template>\n<script >\nimport { computed } from '@vue/reactivity'\nimport { reactive, toRefs } from 'vue'\nimport { set } from 'vue-demi'\nexport default {\n\n    setup() {\n        const obj = reactive({\n            fistname: 'yesung',\n            lastname: '野松'\n        })\n        obj.fullname = computed({\n            get() {\n                // 此处拿\n                return obj.fistname + obj.lastname\n            },\n            set(value) {\n                // 此处写入\n                const newobj = value.split(' ')\n                obj.firstName = newobj[0]\n                obj.lastName = newobj[1]\n            }\n        })\n\n        return {\n            ...toRefs(obj)\n        }\n    },\n}\n\n<\/script>\n")]),e("h4",[e("a",{staticClass:"md-header-anchor",attrs:{name:"header-n155"}}),t._v("watch")]),e("h5",[e("a",{staticClass:"md-header-anchor",attrs:{name:"header-n156"}}),t._v("监听 reactive 内部数据")]),e("ol",{attrs:{start:""}},[e("li",[e("p",[t._v("reactive监听")]),e("ul",[e("li",[e("p",[t._v("监听 reactive 内部数据时，"),e("strong",[t._v("强制开启了深度监听")]),t._v("，且配置无效")])]),e("li",[e("p",[t._v("监听对象的时候 newValue 和 oldValue 是全等的")])]),e("li",[e("p",[t._v("reactive 的【内部对象】也是一个 reactive 类型的数据")])]),e("li",[e("p",[t._v("代码展示：")]),e("pre",{staticClass:"md-fences mock-cm md-end-block",staticStyle:{"break-inside":"unset"},attrs:{spellcheck:"false",lang:"vue",contenteditable:"false",cid:"n169",mdtype:"fences"}},[t._v("<template>\n    <p>{.{name}}</p>\n    <p>{.{love.nicname}}</p>\n    <button @click=\"handle\">click here to changge</button>\n\n</template>\n<script >\nimport { computed } from '@vue/reactivity'\nimport { reactive, toRefs, watch } from 'vue'\nimport { set } from 'vue-demi'\nexport default {\n\n    setup() {\n        const obj = reactive({\n            name: 'yesung',\n            love: {\n                nicname: '野松'\n            }\n        })\n        const handle=()=>{\n            obj.love.nicname = obj.name\n        }\n        watch(obj.love, (newVal, oldVal) => {\n            console.log(newVal === oldVal);\n        })\n\n        return {\n            ...toRefs(obj),handle\n        }\n    },\n}\n<\/script>\n")])]),e("li",[e("p",[t._v("对 reactive 自身的修改则不会触发监听")]),e("p",[t._v("代码展示：")]),e("pre",{staticClass:"md-fences mock-cm md-end-block",staticStyle:{"break-inside":"unset"},attrs:{spellcheck:"false",lang:"vue",contenteditable:"false",cid:"n173",mdtype:"fences"}},[t._v("<template>\n    <p>{.{ obj.hobby.eat }}</p>\n    <button @click=\"obj.hobby = { eat: '面条' }\">click</button>\n</template>\n\n<script>\n    import { watch, reactive } from 'vue'\n    export default {\n        name: 'App',\n        setup() {\n            const obj = reactive({\n                name: 'ifer',\n                hobby: {\n                    eat: '西瓜',\n                },\n            })\n            watch(obj.hobby, (newValue, oldValue) => {\n                // obj.hobby = { eat: '面条' }\n                console.log('对 reactive 自身的修改不会触发监听')\n            })\n            return { obj }\n        },\n    }\n<\/script>\n")])])])]),e("li",[e("p",[t._v("ref 数据监听")]),e("pre",{staticClass:"md-fences mock-cm md-end-block",staticStyle:{"break-inside":"unset"},attrs:{spellcheck:"false",lang:"vue",contenteditable:"false",cid:"n176",mdtype:"fences"}},[t._v("<template>\n    <p>{.{ num}}</p>\n    <button @click=\"handle\">click here to add</button>\n</template>\n\n<script>\nimport { watch, ref, reactive } from 'vue'\nexport default {\n    name: 'App',\n    setup() {\n        const num = ref(1)\n\n        const handle = () => {\n            num.value++\n        }\n\n        watch(num, (newValue, oldValue) => {\n            console.log(newValue, oldValue)\n        })\n        return { num , handle }\n    },\n}\n<\/script>\n")])]),e("li",[e("p",[t._v("监听多个 ref 数据")]),e("p",[t._v("可以通过数组监听多个数据的变化")]),e("pre",{staticClass:"md-fences mock-cm md-end-block",staticStyle:{"break-inside":"unset"},attrs:{spellcheck:"false",lang:"vue",contenteditable:"false",cid:"n180",mdtype:"fences"}},[t._v("<template>\n    <p>{.{ num}}</p>\n    <p>{.{age}}</p>\n    <button @click=\"handle\">click here to add</button>\n</template>\n\n<script>\nimport { watch, ref, reactive } from 'vue'\nexport default {\n    name: 'App',\n    setup() {\n        const num = ref(1)\n        const age = ref(10)\n\n        const handle = () => {\n            num.value++\n            age.value--\n        }\n\n        watch([num, age], (newValue, oldValue) => {\n            console.log(newValue, oldValue)\n        })\n        return { num, age, handle }\n    },\n}\n<\/script>\n")])]),e("li",[e("p",[t._v("立即触发监听")]),e("pre",{staticClass:"md-fences mock-cm md-end-block",staticStyle:{"break-inside":"unset"},attrs:{spellcheck:"false",lang:"vue",contenteditable:"false",cid:"n183",mdtype:"fences"}},[t._v("<template>\n    <p>{.{ num}}</p>\n    <p>{.{age}}</p>\n    <button @click=\"handle\">click here to add</button>\n</template>\n\n<script>\nimport { watch, ref, reactive } from 'vue'\nexport default {\n    name: 'App',\n    setup() {\n        const num = ref(1)\n        const age = ref(10)\n\n        const handle = () => {\n            num.value++\n            age.value--\n        }\n\n        watch(num, (newValue, oldValue) => {\n            console.log(newValue, oldValue)\n        }, {\n            immediate: true,\n        })\n        return { num, age, handle }\n    },\n}\n<\/script>\n")])]),e("li",[e("p",[t._v("开启深度监听 ref 数据")]),e("p",[t._v("修改 ref 对象里面的数据并不会触发监听，说明 ref 并不是默认开启 deep 的")]),e("ul",[e("li",[e("p",[t._v("解决01 当然直接修改整个对象的话肯定是会被监听到的（注意模板中对 obj 的修改，相当于修改的是 obj.value）")])]),e("li",[e("p",[t._v("解决02 开启深度监听 ref 数据")]),e("pre",{staticClass:"md-fences mock-cm md-end-block",attrs:{spellcheck:"false",lang:"vue",contenteditable:"false",cid:"n192",mdtype:"fences"}},[t._v("watch(\n    obj,\n    (newValue, oldValue) => {\n        console.log(newValue, oldValue)\n        console.log(newValue === oldValue)\n    },\n    {\n        deep: true,\n    }\n)\n")])])])]),e("li",[e("p",[t._v("通过监听 ref.value ")]),e("p",[t._v("ref 内部如果包裹对象的话，其实还是借助 reactive 实现的，可以通过 isReactive 方法来证明")]),e("pre",{staticClass:"md-fences mock-cm md-end-block",staticStyle:{"break-inside":"unset"},attrs:{spellcheck:"false",lang:"vue",contenteditable:"false",cid:"n196",mdtype:"fences"}},[t._v("<template>\n    <p>{.{ obj.hobby.eat }}</p>\n    <button @click=\"obj.hobby.eat = '面条'\">修改 obj</button>\n</template>\n\n<script>\n    import { watch, ref } from 'vue'\n    export default {\n        name: 'App',\n        setup() {\n            const obj = ref({\n                hobby: {\n                    eat: '西瓜',\n                },\n            })\n            watch(obj.value, (newValue, oldValue) => {\n                console.log(newValue, oldValue)\n                console.log(newValue === oldValue)\n            })\n\n            return { obj }\n        },\n    }\n<\/script>\n")])]),e("li",[e("p",[t._v("监听普通数据")]),e("p",[t._v("监听响应式对象中的某一个普通属性值，要通过函数返回的方式进行")]),e("pre",{staticClass:"md-fences mock-cm md-end-block",staticStyle:{"break-inside":"unset"},attrs:{spellcheck:"false",lang:"vue",contenteditable:"false",cid:"n200",mdtype:"fences"}},[t._v("<template>\n    <p>{.{ obj.hobby.eat }}</p>\n    <button @click=\"obj.hobby.eat = '面条'\">修改 obj</button>\n</template>\n\n<script>\nimport { watch, reactive } from 'vue'\nexport default {\n    name: 'App',\n    setup() {\n        const obj = reactive({\n            hobby: {\n                eat: '西瓜',\n            },\n        })\n\n        // 能监听影响到 obj.hobby.eat 变化的操作，例如 obj.hobby = { eat: '面条' } 或 obj.hobby.eat = '面条'，如果是 reactive 直接对 obj 的修改则不会被监听到（ref 可以）\n        watch(\n            () => obj.hobby.eat,\n            (newValue, oldValue) => {\n                console.log(newValue, oldValue)\n                console.log(newValue === oldValue)\n            }\n        )\n        return { obj }\n    },\n}\n<\/script>\n")])])]),e("h4",[e("a",{staticClass:"md-header-anchor",attrs:{name:"header-n201"}}),t._v("vue3 生命周期")]),e("p",[t._v("vue3的七个生命周期分别是setup、onBeforeMount、onMounted、onBeforeUpdate、onUpdated、onBeforeUnmount、onUnmounted")]),e("p",[t._v("与vue2相比最大的区别就是将beforeCreated和created换成了setup钩子")]),e("h4",[e("a",{staticClass:"md-header-anchor",attrs:{name:"header-n204"}}),t._v("setup 函数参数（传参）")]),e("h5",[e("a",{staticClass:"md-header-anchor",attrs:{name:"header-n205"}}),t._v("父传子")]),e("p",[t._v("代码演示（父组件）：")]),e("pre",{staticClass:"md-fences mock-cm md-end-block",staticStyle:{"break-inside":"unset"},attrs:{spellcheck:"false",lang:"vue",contenteditable:"false",cid:"n207",mdtype:"fences"}},[t._v("<template>\n    <p>this is father</p>\n    <son :father=\"num\"></son>\n    <button @click=\"handle\">click here to add</button>\n</template>\n\n<script>\nimport { watch, reactive , ref } from 'vue'\nimport son from './son.vue'\nexport default {\n    name: 'App',\n    components: {\n        son\n    },\n    setup() {\n        const num = ref(100)\n\n        const handle = () => {\n            num.value = num.value + 100\n        }\n\n        return { num, handle }\n    },\n}\n<\/script>\n")]),e("p",[t._v("子组件：")]),e("pre",{staticClass:"md-fences mock-cm md-end-block",staticStyle:{"break-inside":"unset"},attrs:{spellcheck:"false",lang:"vue",contenteditable:"false",cid:"n209",mdtype:"fences"}},[t._v("<template>\n    <div>\n        {.{father}}\n\n    </div>\n</template>\n\n<script>\nexport default {\n    props: {\n        father: {\n            type: Number,\n            required: true\n        }\n    },\n    setup(props) {\n        console.log(props.father);\n\n    }\n}\n<\/script>\n")]),e("p",[t._v("vue3支持两种传参方式，可以通过自定义属性传递数据，props接收数据，也可以使用props参数来获取传递需要的数据")]),e("h5",[e("a",{staticClass:"md-header-anchor",attrs:{name:"header-n211"}}),t._v("子传父")]),e("p",[t._v("代码演示（父组件）：")]),e("pre",{staticClass:"md-fences mock-cm md-end-block",staticStyle:{"break-inside":"unset"},attrs:{spellcheck:"false",lang:"vue",contenteditable:"false",cid:"n213",mdtype:"fences"}},[t._v("<template>\n    <p>this is father</p>\n    <son @changeNum=\"changeNum\">{.{num}}</son>\n</template>\n\n<script>\nimport { watch, reactive , ref } from 'vue'\nimport son from './son.vue'\nexport default {\n    name: 'App',\n    components: {\n        son\n    },\n    setup() {\n        const num = ref(90)\n\n        const changeNum = (newMoney) =>{\n            num.value = newMoney\n        }\n        return {num , changeNum}\n    },\n}\n<\/script>\n")]),e("p",[t._v("子组件：")]),e("pre",{staticClass:"md-fences mock-cm md-end-block",staticStyle:{"break-inside":"unset"},attrs:{spellcheck:"false",lang:"vue",contenteditable:"false",cid:"n215",mdtype:"fences"}},[t._v("<template>\n    <div>\n        {.{father}}\n    </div>\n    <button @click=\"add\">click here to add</button>\n</template>\n\n<script>\nimport { ref } from 'vue';\n\nexport default {\n\n    setup(props, { emit }) {\n        const father = ref(100)\n        const add = () => {\n            father.value += 100\n            emit('changeNum', father)\n        }\n        return {\n            father, add\n        }\n\n    }\n}\n<\/script>\n")]),e("p",[t._v("子组件传值给父组件的方法与vue2大致相同，都是依赖emit")]),e("h4",[e("a",{staticClass:"md-header-anchor",attrs:{name:"header-n217"}}),t._v("provide/inject")]),e("p",[t._v("目标：掌握使用 provide 函数和 inject 函数完成跨层级组件通讯")]),e("p",[t._v("特点：provide/inject是成对出现的，provide可以把数据传递给自己的子子孙孙无论多么深，虽然这是一个非常强大的功能但是我们并不建议滥用这个功能属性")]),e("h4",[e("a",{staticClass:"md-header-anchor",attrs:{name:"header-n220"}}),t._v("script setup ")]),e("p",[t._v("代码演示：")]),e("pre",{staticClass:"md-fences mock-cm md-end-block",staticStyle:{"break-inside":"unset"},attrs:{spellcheck:"false",lang:"vue",contenteditable:"false",cid:"n222",mdtype:"fences"}},[t._v("<script setup>\n    import { ref } from 'vue'\n\n    const count = ref(18)\n\n    const increment = () => {\n        count.value++\n    }\n<\/script>\n<template>\n    <p>{.{ count }}</p>\n    <p>\n        <button @click=\"increment\">+1</button>\n    </p>\n</template>\n")]),e("h5",[e("a",{staticClass:"md-header-anchor",attrs:{name:"header-n223"}}),t._v("defineProps")]),e("p",[t._v("作用：用于在setup之中传递参数")]),e("p",[t._v("父组件：")]),e("pre",{staticClass:"md-fences mock-cm md-end-block",attrs:{spellcheck:"false",lang:"vue",contenteditable:"false",cid:"n226",mdtype:"fences"}},[t._v("<script setup>\nimport { ref } from 'vue'\nimport son from './son.vue'\nconst count =ref(18)\n<\/script>\n<template>\n    <son :num=\"count\"></son>\n</template>\n")]),e("p",[t._v("子组件：")]),e("pre",{staticClass:"md-fences mock-cm md-end-block",attrs:{spellcheck:"false",lang:"vue",contenteditable:"false",cid:"n228",mdtype:"fences"}},[t._v("<template>\n    <div> {.{num}}</div>\n</template>\n\n<script setup>\nconst props = defineProps({\n    num: Number,\n})\nconsole.log(props.num);\n<\/script>\n")]),e("h5",[e("a",{staticClass:"md-header-anchor",attrs:{name:"header-n229"}}),t._v("defineEmits")]),e("p",[t._v("作用：在vue3的组件中传递参数（子传父）")]),e("p",[t._v("子组件：")]),e("pre",{staticClass:"md-fences mock-cm md-end-block",staticStyle:{"break-inside":"unset"},attrs:{spellcheck:"false",lang:"vue",contenteditable:"false",cid:"n232",mdtype:"fences"}},[t._v("<template>\n    <button @click=\"emit('updateAge')\">click to emit </button>\n    <button @click=\"$emit('updateAge')\">click to $emit </button>\n    <button @click=\"updateAge\">click to updateAge </button>\n</template>\n\n<script setup>\n\nconst emit = defineEmits(['updateAge'])\nconst updateAge = () =>{\n    emit('updateAge')\n}\n\n<\/script>\n")]),e("p",[t._v("父组件：")]),e("pre",{staticClass:"md-fences mock-cm md-end-block",staticStyle:{"break-inside":"unset"},attrs:{spellcheck:"false",lang:"vue",contenteditable:"false",cid:"n234",mdtype:"fences"}},[t._v("<script setup>\nimport { reactive } from 'vue';\nimport son from './son.vue'\nconst person = reactive({\n    name: '野松',\n    age: '18'\n})\nconst updateAge = () =>{\n    person.age++\n}\n\n<\/script>\n<template>\n    <p>{.{person.name}}</p>\n    <p>{.{person.age}}</p>\n    <son @updateAge=\"updateAge\"></son>\n</template>\n")]),e("h4",[e("a",{staticClass:"md-header-anchor",attrs:{name:"header-n235"}}),t._v("Vue3 其他变更")]),e("ol",{attrs:{start:""}},[e("li",[e("p",[t._v("Vue3 中 v-model 语法糖有所调整，v-model支持传递多个值")]),e("p",[t._v("父组件：")]),e("pre",{staticClass:"md-fences mock-cm md-end-block",attrs:{spellcheck:"false",lang:"vue",contenteditable:"false",cid:"n240",mdtype:"fences"}},[t._v("<script setup>\nimport { reactive, ref } from 'vue';\nimport Son from './son.vue';\n\nconst age = ref(1)\nconst count = ref(99)\n\n<\/script>\n<template>\n    <Son v-model=\"count\" v-model:age=\"age\"></Son>\n</template>\n")]),e("p",[t._v("子组件：")]),e("pre",{staticClass:"md-fences mock-cm md-end-block",attrs:{spellcheck:"false",lang:"vue",contenteditable:"false",cid:"n242",mdtype:"fences"}},[t._v("<template>\n  <p>age:{.{$attrs.age}}</p>\n  <p>count:{.{$attrs.age}}</p>\n\n  <button>click here to change</button>\n\n</template>\n\n<script setup>\n<\/script>\n")])]),e("li",[e("p",[t._v("ref 属性")]),e("p",[t._v("目标：能够通过 ref 属性获取 DOM 或组件")]),e("pre",{staticClass:"md-fences mock-cm md-end-block",attrs:{spellcheck:"false",lang:"vue",contenteditable:"false",cid:"n246",mdtype:"fences"}},[t._v("<script setup>\nimport { onMounted, reactive, ref } from 'vue';\nconst dom = ref(null)\n\nonMounted(()=>{\n    console.log(dom.value);\n})\n\n<\/script>\n<template>\n    <div ref=\"dom\">yesung</div>\n</template>\n")])]),e("li",[e("p",[t._v("Fragment")]),e("ul",[e("li",[t._v("Vue2 中组件必须有一个根标签")]),e("li",[t._v("Vue3 中组件可以没有根标签，其内部会将多个标签包含在一个 Fragment 虚拟元素中")]),e("li",[t._v("好处：减少标签层级和内存占用")])])]),e("li",[e("p",[t._v("Teleport")]),e("p",[t._v("作用：传送，能将特定的 HTML 结构（一般是嵌套很深的）移动到指定的位置，解决 HTML 结构嵌套过深造成的样式影响或不好控制的问题。")]),e("pre",{staticClass:"md-fences mock-cm md-end-block",staticStyle:{"break-inside":"unset"},attrs:{spellcheck:"false",lang:"vue",contenteditable:"false",cid:"n259",mdtype:"fences"}},[t._v("<template>\n    <div>\n        <h4>app</h4>\n        <Parent></Parent>\n    </div>\n</template>\n\n<script>\nimport Parent from './parent.vue';\nexport default {\n    setup() {\n        return {};\n    },\n    components: { Parent }\n}\n<\/script>\n")]),e("p",[t._v("parent.vue")]),e("pre",{staticClass:"md-fences mock-cm md-end-block",staticStyle:{"break-inside":"unset"},attrs:{spellcheck:"false",lang:"vue",contenteditable:"false",cid:"n261",mdtype:"fences"}},[t._v("<template>\n    <div>\n        <h4>parent</h4>\n        <Child></Child>\n        <div id=\"dialog\"></div>\n    </div>\n</template>\n\n<script>\nimport Child from './child.vue';\nexport default {\n    setup() {\n        return {};\n    },\n    components: { Child }\n}\n<\/script>\n")]),e("p",[t._v("child.vue")]),e("pre",{staticClass:"md-fences mock-cm md-end-block",staticStyle:{"break-inside":"unset"},attrs:{spellcheck:"false",lang:"vue",contenteditable:"false",cid:"n263",mdtype:"fences"}},[t._v('<template>\n    <h4>child</h4>\n    <button @click="bBar = !bBar">在子组件里</button>\n    <teleport to="body">\n        <div v-if="bBar" style="background-color: red;">\n            在子组件里的弹框\n        </div>\n    </teleport>\n</template>\n\n<script>\nimport { ref } from \'vue\';\n\nexport default {\n    setup() {\n        const bBar = ref(false)\n        return { bBar }\n    }\n}\n<\/script>\n')]),e("p",[t._v(" ")])])])])])}],r={},i=r,o=a(1001),l=(0,o.Z)(i,s,n,!1,null,"d52d2824",null),c=l.exports},2554:function(t,e,a){t.exports=a.p+"img/vite.5e1b5844.jpg"}}]);