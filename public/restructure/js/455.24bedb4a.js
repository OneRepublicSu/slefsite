"use strict";(self["webpackChunkOneRepublicSu"]=self["webpackChunkOneRepublicSu"]||[]).push([[455],{455:function(s,t,a){a.r(t),a.d(t,{default:function(){return _}});var i=function(){var s=this,t=s._self._c;return t("div",{staticClass:"main"},[t("h2",[s._v("项目名称")]),t("div",{staticClass:"top"},[s._m(0),t("div",{on:{click:function(t){return s.$router.back()}}},[s._v(" click here to back"),t("i",{staticClass:"el-icon-caret-right"})])]),t("div",{staticClass:"or-container"},s._l(s.piclist,(function(a,i){return t("div",{key:i,staticClass:"box",class:s.eleindex==i?"eleactive":"",on:{mouseenter:function(t){return s.enter(i)},mouseleave:function(t){return s.out(i)}}},[t("img",{attrs:{src:a.img}})])})),0),t("el-descriptions",[t("template",{slot:"title"},[t("span",{staticClass:"titleimp"},[s._v("项目信息")])]),t("el-descriptions-item",{attrs:{label:"项目类型"}},[s._v("资讯阅读APP+内容后台管理系统")]),t("el-descriptions-item",{attrs:{label:"开发周期"}},[s._v("2021.09 – 2021.12 ")]),t("el-descriptions-item",{attrs:{label:"迭代周期"}},[s._v("15天")]),t("el-descriptions-item",{attrs:{label:"技术栈"}},[t("el-tag",{attrs:{size:"small"}},[s._v("Vue2")]),t("el-tag",{attrs:{size:"small"}},[s._v("Vant")]),t("el-tag",{attrs:{size:"small"}},[s._v("RegExp")]),t("el-tag",{attrs:{size:"small"}},[s._v("Less")])],1),t("el-descriptions-item",{attrs:{label:"团队配置"}},[s._v("产品经理*1 项目经理*1 前端*2 后端*4 测试*1 ")]),t("el-descriptions-item",{attrs:{label:"项目截图"}},[s._v("如上所示（保护隐私，截取图数据为模拟数据） ")])],2),t("div",[t("el-collapse",{attrs:{accordion:""},model:{value:s.activeName,callback:function(t){s.activeName=t},expression:"activeName"}},[t("el-collapse-item",{attrs:{name:"1"}},[t("template",{slot:"title"},[t("span",{staticClass:"titleimp"},[s._v("项目总览")])]),t("p",[s._v(" 这是一个基于Vue2和Vant的新闻资讯阅读类app，并且提供了对应的内容类后台管理系统 "),t("br"),s._v(" 此app提供关于财经股票游戏基金等方面的最新新闻与资讯阅读，并且评论后可以对自己喜欢的文章进行评论收藏等操作，旨在丰富大家的视野，扩充大家的见闻，为大家提供一手最新资讯，对应的后台管理系统负责为财界新闻app提供对应的后台管理，支持文章管理频道管理等一系列功能，旨在提高团队工作效率，更加完善系统的进行前端的数据和信息管理 "),t("br"),s._v(" 在开发时涉及到了"),t("span",{staticClass:"imp"},[s._v("Vant")]),t("span",{staticClass:"imp"},[s._v("移动端开发")]),s._v("以及各类插件的使用 ")])],2),t("el-collapse-item",{attrs:{name:"2"}},[t("template",{slot:"title"},[t("span",{staticClass:"titleimp"},[s._v("开发存档")])]),t("div",[t("h3",[s._v("首页")]),t("div",{staticClass:"contain"},[t("div",[t("h4",[s._v("使用到的插件/组件单")]),t("ul",{staticClass:"eight"},[t("li",[t("span",{staticClass:"imp"},[s._v("van-count-down")]),s._v("组件（倒计时）")]),t("li",[t("span",{staticClass:"imp"},[s._v("json-bigint")]),s._v("插件（处理大数类型） ")]),t("li",[t("span",{staticClass:"imp"},[s._v("van-tabs")]),s._v("插件（处理Tab标签页） ")]),t("li",[t("span",{staticClass:"imp"},[s._v("van-popup")]),s._v("插件（处理弹出弹窗） ")]),t("li",[t("span",{staticClass:"imp"},[s._v("van-pull-refresh")]),s._v("插件（下拉刷新） ")]),t("li",[t("span",{staticClass:"imp"},[s._v("van-grid")]),s._v("插件（宫格布局）")]),t("li",[t("span",{staticClass:"imp"},[s._v("dayjs")]),s._v("插件（时间处理）")]),t("li",[t("span",{staticClass:"imp"},[s._v("van-picker")]),s._v("插件（选择器）")])])]),t("div",[t("h4",[s._v("数据脱壳处理")]),t("p",[s._v(" 因为后台返回数据抛出错误的方式设置原因，本工程登陆失败只返回错误信息而不作为错误抛出，这就需要我们手动进行"),t("span",{staticClass:"imp"},[s._v("数据脱壳")]),s._v("的处理， 具体实现需要结合相应拦截器，判断返回信息中的关键字，决定是返回有用数据还是手动抛出错误 ")])]),t("div",[t("h4",[s._v("token问题")]),t("p",[s._v(" token是有时效性的，为了处理token失效的问题，我们有两大种解决方案，第一种方案，token失效时会报"),t("span",{staticClass:"imp"},[s._v("401错误")]),s._v("，被动介入的解决方案就是使用"),t("span",{staticClass:"imp"},[s._v("响应拦截器")]),s._v("，当收到401错误的时候自动退出，请用户进行重新登陆，但是考虑到token的时效性一般设置的并不长，所以此方案会影响用户的体验，我们更推荐"),t("span",{staticClass:"imp"},[s._v("refresh_token")]),s._v("的解决方案 ，这种方案就是在颁发token的同时颁发一个有效时长更长的refresh_token,当token过期后，用refresh_token换取新的token ")])]),t("div",[t("h4",[s._v("移动端适配")]),t("p",[s._v(" 本工程采用的移动端适配方案是"),t("span",{staticClass:"imp"},[s._v("rem适配方案")]),s._v("，rem适配方案的精髓是会根据屏幕大小变化的html节点的字体大小， 为了动态设置这个字体的大小，我们需要安装插件"),t("span",{staticClass:"imp"},[s._v("amfe-flexible")]),s._v("，我们还需要用到PostCSS，这是一个处理 CSS 的处理工具，本身功能 比较单一，它主要负责解析 CSS 代码，再交由插件来进行处理，这次我们要使用的是"),t("span",{staticClass:"imp"},[s._v("postcss-pxtorem")]),s._v("这个插件它可以实现将 px 转换为 rem 的功能 ")])]),t("div",[t("h4",[s._v("单例模式")]),t("p",[s._v(" 其实Vant UI中常用的toast组件就是一个很典型的单例模式，他一次只生成一个实例 ")])]),t("div",[t("h4",[s._v("在父子组件之间进行通信")]),t("p",[s._v(" 本工程使用了多种在父子组件之间进行传值的方法 "),t("ul",{staticClass:"eight"},[t("li",[t("span",{staticClass:"imp"},[s._v("v-model")]),s._v("（子组件在接收的时候必须用value）")]),t("li",[t("span",{staticClass:"imp"},[s._v("slot插槽")]),s._v("（传递的数据只能在插槽中使用） ")]),t("li",[t("span",{staticClass:"imp"},[s._v("provide")]),s._v("（可以从祖辈传递到所有的后代,要用inject接收） ")]),t("li",[t("span",{staticClass:"imp"},[s._v("自定义属性")]),s._v("（props接收数据） ")]),t("li",[t("span",{staticClass:"imp"},[s._v("Vuex")]),s._v("（全局状态管理） ")])])])])])]),t("div",[t("h3",[s._v("我的页面")]),t("div",{staticClass:"contain"},[t("div",[t("h4",[s._v("json-bigint")]),t("p",[t("span",{staticClass:"imp"},[s._v("json-bigint")]),s._v("是一个第三方包，它在把json字符串转json对象的过程中，自动识别 大整数，把大整数转成一个对象来表示，这样就不会产生精度丢失的问题，这个插件可以配置在 "),t("span",{staticClass:"imp"},[s._v("request")]),s._v("的拦截器中，也可以单独的使用 ")])]),t("div",[t("h4",[s._v("图像上传")]),t("p",[s._v(" 本工程使用的图像上传方法是先从input的"),t("span",{staticClass:"imp"},[s._v("files属性")]),s._v("中获取文件, "),t("br"),t("span",{staticClass:"imp"},[s._v("window.URL.createObjectURL(file)")]),s._v("可以创建一个新的对象URL,该对象URL可以代表某一个指定的File对象或Blob对象, 想要进行裁剪等操作的话可以使用"),t("span",{staticClass:"imp"},[s._v("cropperjs插件")]),s._v(",裁剪完成之后将生成的blob对象 使用"),t("span",{staticClass:"imp"},[s._v("FormData")]),s._v("进行上传就可以了 ")])])])]),t("div",[t("h3",[s._v("新闻模块")]),t("div",{staticClass:"contain"},[t("div",[t("h4",[s._v("List组件-上滑加载")]),t("p",[s._v(" vant组件不仅为我们提供了许多样式，实际上这还是一个相当好用的工具库，其中已经做好封装的部分功能可以帮助我们在开发中解决很多问题，"),t("span",{staticClass:"imp"},[s._v("List组件")]),s._v("中的下拉刷新部分通过"),t("span",{staticClass:"imp"},[s._v("loading")]),s._v("和"),t("span",{staticClass:"imp"},[s._v("finished")]),s._v("两个变量控制加载状态，当组件滚动到底部时，会触发load 事件并将loading 设置成 true。此时可以发起异步操作并更新数据，数据更新完毕后，将loading设置成 false 即可。若数据已全部加载完毕，则直接将"),t("span",{staticClass:"imp"},[s._v("finished")]),s._v("设置成true即可。 List会监听浏览器的滚动事件并计算列表的位置，当列表底部与可视区域的距离小于"),t("span",{staticClass:"imp"},[s._v("offset")]),s._v("时，List 会触发一次load事件。 ")])]),t("div",[t("h4",[s._v("List组件-下拉刷新")]),t("p",[s._v(" List 组件可以与"),t("span",{staticClass:"imp"},[s._v("PullRefresh")]),s._v("组件结合使用，实现下拉刷新的效果，PullRefresh 的触发条件是"),t("span",{staticClass:"imp"},[s._v("父级滚动元素的滚动条在顶部位置")]),s._v("。 如果最近一个可滚动的父级元素是 window，则要求"),t("span",{staticClass:"imp"},[s._v("window.pageYOffset === 0")]),s._v("，如果最近一个可滚动的父级元素是 Element，则要求"),t("span",{staticClass:"imp"},[s._v("Element.scrollTop === 0")]),s._v("。 ")])]),t("div",[t("h4",[s._v("搜索词高亮")]),t("p",[s._v(" 首先需要提前将搜索结果的部分用"),t("span",{staticClass:"imp"},[s._v("插槽")]),s._v("装起来,如果需要根据数据变量动态的创建正则表达式，需要手动"),t("span",{staticClass:"imp"},[s._v("new RegExp")]),s._v("正则表达式构造函数有两个参数,第一个参数是匹配模式字符串，表达式会根据这个字符串创建正则对象, 参数2是匹配模式，要写到字符串中,本工程用到了两个修饰符,一个是"),t("span",{staticClass:"imp"},[s._v("g全局(global)匹配")]),s._v(", 一个是"),t("span",{staticClass:"imp"},[s._v("i不区分(ignore)大小写")]),s._v(",可以直接连写,最后使用字符串的"),t("span",{staticClass:"imp"},[s._v("replace方法")]),s._v("对于匹配到的地方进行替换姐可以了 ")])]),t("div",[t("h4",[s._v("图片预览")]),t("p",[s._v(" Vant中带有图片预览的功能,首先需要从文章内容中获取到所有的 img DOM 节点,这个地方可以使用JS中的 "),t("span",{staticClass:"imp"},[s._v("querySelectorAll")]),s._v("加标签选择器来完成,获取所有节点完成之后使用"),t("span",{staticClass:"imp"},[s._v("forEach")]),s._v("的方法将每张图片的src汇总在一起, 作为ImagePreview的参数,实现图片预览 ")])]),t("div",[t("h4",[s._v("在路由中使用props传参")]),t("p",[s._v(" 本工程在从新闻列表跳转到文章详情的部分使用了 "),t("span",{staticClass:"imp"},[s._v("props传参")]),s._v(",在组件内想要获取到路由的参数，需要使用 $route.params 或 $route.query 语法获取，这两者分别对 应了params，query这两种参数类型。在组件内为获取路由参数需要大量使用到 $route，大大限制了组件的灵 活性，为了解决这一问题，可以通过 props 配置来对组件进行传参，这么做的好处是，允许在任何地方使用该组 件，使得该组件更容易重用和测试。 ")])])])]),t("p",[s._v("其它模块基本雷同不再赘述")])],2),t("el-collapse-item",{attrs:{name:"3"}},[t("template",{slot:"title"},[t("span",{staticClass:"titleimp"},[s._v("Bug记录")])]),t("div",[t("div",{staticClass:"contain"},[t("div",[t("h4",[s._v("别名问题")]),t("p",[s._v(" vue中默认会有@别名，指向src目录。如果在js中使用的话直接使用@就可以了，如果在css中使用，需要加入“~”， 并且不要写成字符串比如："),t("br"),s._v(" background: url(~@/assets/img/04_2.jpg)这种模式 ")])]),t("div",[t("h4",[s._v("图片预览")]),t("p",[s._v(" 在获取新闻文章数据成功之后立即执行获取图片预览所需要的dom这个操作会返回undefined,但是 通过vuetools我们可以清楚的看到这个refs是存在的,之所以会出现这样的情况是因为数据驱动 视图这件事本身并不是立即的,这个时候需要使用setTimeout,就可以顺利的得到dom了 ")])]),t("div",[t("h4",[s._v("offset引起的评论不能立即更新问题")]),t("p",[s._v(" 本工程获取评论数据的时候后端返回了一个offset字段,这个字段会造成添加的评论无法及时更新的问题,但是又包含着其他的必须的作用, 为了解决这个问题,我们可以在onload中添加参数,来判断onload是否是第一次执行,如果是的话需要对offset进行特殊处理, 这个小经验主要是提醒了我们一点, "),t("span",{staticClass:"imp"},[s._v("onload也是可以传参的")])])]),t("div",[t("h4",[s._v("评论的评论不能立即更新问题")]),t("p",[s._v(" 评论的每一项都是由组件渲染出来的,并不方便直接进行更新操作,所以后端在上传评论的时候将刚刚上传的评论 再次返回给了前端,我们只需要将这个新的对象push到原有的list列表里就可以了 ")])])])])],2)],1)],1)],1)},e=[function(){var s=this,t=s._self._c;return t("div",[t("p",{staticClass:"title"},[s._v("财界新闻手机移动端APP+后台内容管理系统")])])}],l={data(){return{activeName:"1",eleindex:0,piclist:[{text:"播放/录制页面",img:"https://superjunior.top/uploads/2aeadd496d9f21fd05bb24b1d7c596e3"},{text:"播放/录制页面",img:"https://superjunior.top/uploads/4003b505f69161e91fc4233a846f40bf"},{text:"播放/录制页面",img:"https://superjunior.top/uploads/fd3460b6cc2ae31120de366ac7f4e4d0"},{text:"播放/录制页面",img:"https://superjunior.top/uploads/2700dd46662ebd71363f4e437ada7dcb"},{text:"播放/录制页面",img:"https://superjunior.top/uploads/59e6e8d6ba3ecc87401f2a91896e11f8"}]}},methods:{enter:function(s){console.log(s),this.eleindex=s},out:function(s){this.imgindex=-1}}},v=l,p=a(1001),n=(0,p.Z)(v,i,e,!1,null,"62ff599d",null),_=n.exports}}]);