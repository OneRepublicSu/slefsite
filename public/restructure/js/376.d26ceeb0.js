"use strict";(self["webpackChunkOneRepublicSu"]=self["webpackChunkOneRepublicSu"]||[]).push([[376],{6376:function(e,r,t){t.r(r),t.d(r,{default:function(){return u}});var s=function(){var e=this,r=e._self._c;return r("div",{staticClass:"main"},[e._m(0),r("div",{staticClass:"regdashbored"},[r("el-form",{ref:"refLogin",staticStyle:{},attrs:{model:e.loginform,rules:e.loginrules}},[r("el-form-item",{attrs:{label:"name",prop:"name"}},[r("el-input",{attrs:{placeholder:"input your name"},model:{value:e.loginform.name,callback:function(r){e.$set(e.loginform,"name",r)},expression:"loginform.name"}})],1),r("el-form-item",{attrs:{label:"password",prop:"password","show-password":""}},[r("el-input",{attrs:{placeholder:"input your password"},model:{value:e.loginform.password,callback:function(r){e.$set(e.loginform,"password",r)},expression:"loginform.password"}})],1),r("el-form-item",[r("el-button",{attrs:{type:"info"},on:{click:e.userlogin}},[e._v("登录")])],1),r("el-form-item",[r("el-link",{attrs:{type:"info"},on:{click:function(r){return e.$router.push("/reg")}}},[e._v(" click here to register ")])],1),r("el-form-item",[r("el-link",{attrs:{type:"info"},on:{click:function(r){return e.$router.push("/")}}},[e._v(" click here to home ")])],1)],1)],1)])},o=[function(){var e=this,r=e._self._c;return r("div",{staticClass:"pic"},[r("img",{attrs:{src:t(2865),alt:""}})])}],i={name:"login",data(){return{loginform:{name:"",password:""},loginrules:{name:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}}},methods:{userlogin(){this.$refs.refLogin.validate((async e=>{if(!e)return;const{data:r}=await this.$http.post("/oa/login",this.loginform);if(201!==r.code)return this.$message.warning(r.msg);this.$message.success(r.msg),this.$store.commit("updateToken",r.token),this.$store.dispatch("initUserInfo"),this.$router.push("/")}))}}},n=i,a=t(1001),l=(0,a.Z)(n,s,o,!1,null,"4bd3b1e4",null),u=l.exports},2865:function(e,r,t){e.exports=t.p+"img/bg2.afe875af.jpg"}}]);