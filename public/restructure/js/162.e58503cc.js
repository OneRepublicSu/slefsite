"use strict";(self["webpackChunkOneRepublicSu"]=self["webpackChunkOneRepublicSu"]||[]).push([[162],{3488:function(s,t,a){a.r(t),a.d(t,{default:function(){return _}});var i=function(){var s=this,t=s._self._c;return t("div",{staticClass:"main"},[t("h2",[s._v("项目名称")]),t("div",{staticClass:"top"},[s._m(0),t("div",{on:{click:function(t){return s.$router.back()}}},[s._v("click here to back"),t("i",{staticClass:"el-icon-caret-right"})])]),t("div",{staticClass:"or-container"},s._l(s.piclist,(function(a,i){return t("div",{key:i,staticClass:"box",class:s.eleindex==i?"eleactive":"",on:{mouseenter:function(t){return s.enter(i)},mouseleave:function(t){return s.out(i)}}},[t("img",{attrs:{src:a.img}})])})),0),t("el-descriptions",{staticStyle:{border:"none"}},[t("template",{slot:"title"},[t("span",{staticClass:"titleimp"},[s._v("项目信息")])]),t("el-descriptions-item",{attrs:{label:"项目类型"}},[s._v("电商类微信小程序")]),t("el-descriptions-item",{attrs:{label:"开发周期"}},[s._v("2022.04 – 2022.06 ")]),t("el-descriptions-item",{attrs:{label:"迭代周期"}},[s._v("15天")]),t("el-descriptions-item",{attrs:{label:"技术栈"}},[t("el-tag",{attrs:{size:"small"}},[s._v("uni-app")]),t("el-tag",{attrs:{size:"small"}},[s._v("Vant")]),t("el-tag",{attrs:{size:"small"}},[s._v("HBuilder")]),t("el-tag",{attrs:{size:"small"}},[s._v("Https")])],1),t("el-descriptions-item",{attrs:{label:"团队配置"}},[s._v("产品经理*1 项目经理*1 前端*2 后端*2 测试*1 ")]),t("el-descriptions-item",{attrs:{label:"项目截图"}},[s._v("如上所示（保护隐私，截取图数据为模拟数据） ")])],2),t("div",[t("el-collapse",{attrs:{accordion:""},model:{value:s.activeName,callback:function(t){s.activeName=t},expression:"activeName"}},[t("el-collapse-item",{attrs:{name:"1"}},[t("template",{slot:"title"},[t("span",{staticClass:"titleimp"},[s._v("项目总览")])]),t("p",[s._v(" 这是一个基于uni-app和uni-ui以及vant，使用HBuilder进行开发的微信小程序 "),t("br"),s._v(" 用于帮助品牌方通过微信这个渠道进行品牌的销售与宣传，以达到增加销量和知名度，提高用户体验的目的 "),t("br"),s._v(" 在开发时涉及到了"),t("span",{staticClass:"imp"},[s._v("Vant")]),t("span",{staticClass:"imp"},[s._v("小程序开发")]),s._v("以及各类插件的使用 ")])],2),t("el-collapse-item",{attrs:{name:"2"}},[t("template",{slot:"title"},[t("span",{staticClass:"titleimp"},[s._v("开发存档")])]),t("el-backtop"),t("div",[t("h3",[s._v("首页")]),t("div",{staticClass:"contain"},[t("div",[t("h4",[s._v("使用到的插件/组件单")]),t("ul",{staticClass:"eight"},[t("li",[t("span",{staticClass:"imp"},[s._v("@escook/request-miniprogram")]),s._v("组件（处理网络请求） ")]),t("li",[t("span",{staticClass:"imp"},[s._v("swiper")]),s._v("组件（轮播图）")]),t("li",[t("span",{staticClass:"imp"},[s._v("Scroll-view")]),s._v("组件（滚动视图）")]),t("li",[t("span",{staticClass:"imp"},[s._v("uni-search-bar")]),s._v("组件（uni-ui提供的搜索框） ")]),t("li",[t("span",{staticClass:"imp"},[s._v("rich-text")]),s._v("组件（将带有 HTML 标签的内容，渲染为小程序的页面结构） ")]),t("li",[t("span",{staticClass:"imp"},[s._v("uni-goods-nav")]),s._v("组件（商品导航组件） ")]),t("li",[t("span",{staticClass:"imp"},[s._v("uni.setTabBarBadge")]),s._v("组件（为tabbar组件增加右上角小圆点） ")]),t("li",[t("span",{staticClass:"imp"},[s._v("uni-number-box")]),s._v("组件（数字输入框） ")]),t("li",[t("span",{staticClass:"imp"},[s._v("uni-swipe-action")]),s._v("组件（滑动删除） ")]),t("li",[t("span",{staticClass:"imp"},[s._v("uni.showModal")]),s._v("组件（带确认选项的弹出框） ")])])]),t("div",[t("h4",[s._v("使用到的API单")]),t("ul",{staticClass:"eight"},[t("li",[t("span",{staticClass:"imp"},[s._v(" uni.getSystemInfoSync().windowHeight")]),s._v("（获取当前窗口的高度） ")]),t("li",[t("span",{staticClass:"imp"},[s._v(" uni.setStorageSync(KEY,DATA)")]),s._v("（uniapp官方提供的本地存储） ")]),t("li",[t("span",{staticClass:"imp"},[s._v("chooseAddress")]),s._v("（微信官方提供的选择地址） ")])])]),t("div",[t("h4",[s._v("导航栏")]),t("p",[s._v(" 微信小程序的导航栏比较简单，但是和我们之前接触过的同类功能比较起来真的是非常的不一样，所以记录一下，微信小程序的 导航栏直接在"),t("span",{staticClass:"imp"},[s._v("pages.json")]),s._v("中配置"),t("span",{staticClass:"imp"},[s._v("tabBar")]),s._v("即可，注意配置之前确保各个路径和资源存在即可，再就是需要注意"),t("span",{staticClass:"imp"},[s._v("navigator")]),s._v("是无法跳转tabBar页的，"),t("span",{staticClass:"imp"},[s._v("switchTab")]),s._v("则是在"),t("span",{staticClass:"imp"},[s._v("跳转到tabBar页面")]),s._v("关闭所有非tabBar页面，需要注意的是switchTab的路径后面是"),t("span",{staticClass:"imp"},[s._v("不可以携带参数")]),s._v("的 ")])]),t("div",[t("h4",[s._v("分包")]),t("p",[s._v(" 分包就是在开发的时候需要将小程序分成不同的"),t("span",{staticClass:"imp"},[s._v("分包")]),s._v("，在构建时打包成不同的分包，用户在使用时按需进行加载，在构建小程序分包项目时，构建会输出一个或多个分包，每个使用分包小程序必定含有一个主包，所谓的主包，即放置默认启动页面/TabBar页面，以及一些所有分包都需要用到的公共资源和JS脚本，而分包则是根据开发者的配置进行划分，在小程序启动时。默认会下载主包并启动主包内页面，当用户在进入分包内某个页面的时候，客户会把对应分包下载下来，下载完成后再进行展示。 ")])]),t("div",[t("h4",[s._v("封装方法")]),t("p",[s._v(" 当数据请求失败之后，经常需要调用 uni.showToast({ /* 配置对象 */ }) 方法来提示用户，比较麻烦。所以我们在"),t("span",{staticClass:"imp"},[s._v("全局封装")]),s._v("一个 uni.$showMsg() 方法，来简化 uni.showToast() 方法的调用 ")])]),t("div",[t("h4",[s._v("数组方法")]),t("p",[s._v(" 数组方法在小程序中也是适用的，在首页的导航处理上我们就可以应用"),t("span",{staticClass:"imp"},[s._v("forEach")]),s._v("给每一项绑定点击事件 ")])])])]),t("div",[t("h3",[s._v("商品")]),t("div",{staticClass:"contain"},[t("div",[t("h4",[s._v("一级和二级菜单的联动")]),t("p",[s._v(" 一级和二级菜单的联动本质上就是把每个一级菜单的children中的数据提取出来，渲染到二级菜单的区域，切换 一级菜单的时候二级菜单也就可以跟着改变了（原理上类似树形数据） ")])]),t("div",[t("h4",[s._v("粘滞定位")]),t("p",[s._v(" 粘滞定位的设置非常的简单 "),t("span",{staticClass:"imp"},[s._v("position: sticky")]),s._v("，但是使用起来仍有需要注意的地方，"),t("span",{staticClass:"imp"},[s._v("粘滞定位")]),s._v("在未接触到自己粘滞边界之前，一直是在 常规文档流之中的，两个边界接触的时时候，粘滞的部分就会像绝对定位一样粘滞在那里 ")])]),t("div",[t("h4",[s._v("防抖处理")]),t("p",[s._v(" 此工程中的防抖处理没有使用插件而是自行封装，防抖的处理办法是使用 "),t("span",{staticClass:"imp"},[s._v("延时器setTimeout")]),s._v("，每一次点击搜索框就 清除掉之前的延时器，在设置的时间之内没有新的触发就执行搜索任务， 如果规定时间内用户再次输入了，取消上次的延时器，再重新启动一个延时器 ")])]),t("div",[t("h4",[s._v("空值合并运算符")]),t("p",[s._v(" 空值合并运算符是JavaScript新增的一种"),t("span",{staticClass:"imp"},[s._v("运算符")]),s._v("，写法是两个问号 "),t("span",{staticClass:"imp"},[s._v("？？")]),s._v("，返回第一个参数，如果第一个 参数是null或者undefined就返回第二个参数 ")])]),t("div",[t("h4",[s._v("下拉刷新")]),t("p",[s._v(" 在json文件中配置"),t("span",{staticClass:"imp"},[s._v("enablePullRefresh")]),s._v("为true，并且在js中实现"),t("span",{staticClass:"imp"},[s._v("onPullDownRefresh")]),s._v("方法，在网络请求完成后调用，使用"),t("span",{staticClass:"imp"},[s._v("wx.stopPullDownRefresh")]),s._v("来结束下拉刷新 ")])]),t("div",[t("h4",[s._v("上划加载")]),t("p",[s._v(" 首先为页面配置上拉触底的距离，然后在页面中声明"),t("span",{staticClass:"imp"},[s._v("onReachBottom")]),s._v("事件处理函数，用来监听页面的上拉触底行为 ")])]),t("div",[t("h4",[s._v("mixin")]),t("p",[s._v(" vue中提供了一种混合机制--"),t("span",{staticClass:"imp"},[s._v("mixins")]),s._v("，用来更高效的实现组件内容的复用，Vuex是状态共享管理，所以Vuex中的所有变量和方法都是可以读取和更改并相互影响的；mixin可以定义公用的变量或方法，但是mixin中的数据是不共享的，也就是每个组件中的mixin实例都是不一样的，都是"),t("span",{staticClass:"imp"},[s._v("单独存在的个体")]),s._v("，不存在相互影响的 ")])])])]),t("div",[t("h3",[s._v("我的")]),t("div",{staticClass:"contain"},[t("div",[t("h4",[s._v("小程序的登录流程")]),t("p",[s._v(" 首先通过"),t("span",{staticClass:"imp"},[s._v("wx.getUserProfile")]),s._v("获取登录接口的数据，再通过 "),t("span",{staticClass:"imp"},[s._v("wx.login")]),s._v("拿到code登录凭证，提交到后端得到token，存储到 Vuex持久化，整个登录的流程就全部完成了 ")])]),t("div",[t("h4",[s._v("小程序的支付流程")]),t("p",[s._v(" 支付的时候首先调用后端接口生成订单编号，根据订单编号调用接口拿到支付相关的参数 ，用"),t("span",{staticClass:"imp"},[s._v("wx.requestPayment")]),s._v("发起微信支付，再根据后端的处理结果，完成相应的操作即可 ")])])])]),t("p",[s._v("其它模块基本雷同不再赘述")])],2),t("el-collapse-item",{attrs:{name:"3"}},[t("template",{slot:"title"},[t("span",{staticClass:"titleimp"},[s._v("Bug记录")])]),t("el-backtop"),t("div",[t("div",{staticClass:"contain"},[t("div",[t("h4",[s._v("网络要求")]),t("p",[s._v(" 腾讯对微信小程序的网络请求有所限制，每个微信小程序都必须事先设置"),t("span",{staticClass:"imp"},[s._v("通讯域名")]),s._v("，并通过"),t("span",{staticClass:"imp"},[s._v("HTTPS")]),s._v("请求进行网络通信，不满足条件的域名和协议无法请求，也就是说，请求request地址必须是合法域名，需要有SSL证书认证。 ")])]),t("div",[t("h4",[s._v("二级菜单的互相影响")]),t("p",[s._v(" 因为在同一个组件中渲染，所以一个二级菜单距离顶部的高度改变之后，其他的也有概率会受到影响，为了避免这种 情况的出现，我们可以在每一次切换一级菜单的时候，都"),t("span",{staticClass:"imp"},[s._v("重新设置")]),s._v("一下二级菜单到顶部的距离，设置的时候选要注意，需要设置"),t("span",{staticClass:"imp"},[s._v("this.scrollTop = Math.random()")]),s._v("，出于性能的考虑等于0是不生效的 （每次都是0），或者用三元表达式在0和1之间切换也可以 ")])]),t("div",[t("h4",[s._v("webp 格式")]),t("p",[s._v(" .webp 格式图片在 ios 设备上无法正常显示的问题，这是ios自己的问题，为了避免这种情况的发生 我们可以用"),t("span",{staticClass:"imp"},[s._v("正则")]),s._v("结合字符串的"),t("span",{staticClass:"imp"},[s._v("replace")]),s._v("方法把后缀名替换掉 ")])]),t("div",[t("h4",[s._v("价格的闪烁")]),t("p",[s._v(" 在商品详情数据请求回来之前，data 中goodsDetail 的值为 {}，因此初次渲染页面时，会导致 商品价格、商品名称等闪烁的问题，想要解决这个问题我们可以判断goodsDetail.goods_name 属性的值是否存在，从而使用 v-if 指令控制页面的显示与隐藏 ")])]),t("div",[t("h4",[s._v("测试阶段无法登陆")]),t("p",[s._v(" 微信小程序的开发阶段想要尝试登录的话需要项目创建人将开发者加进开发者名单，不然无论如何都无法返回正常的响应码和token ")])])])])],2)],1)],1)],1)},e=[function(){var s=this,t=s._self._c;return t("div",[t("p",{staticClass:"title"},[s._v("HUI国奢(微信小程序)")])])}],v={data(){return{activeName:"1",eleindex:0,piclist:[{text:"播放/录制页面",img:"https://superjunior.top/uploads/124c625f481db3a241b6ec3f4c6615d4"},{text:"播放/录制页面",img:"https://superjunior.top/uploads/c4b7af43629eb3d64435cdcc3d138ea1"},{text:"播放/录制页面",img:"https://superjunior.top/uploads/237a041bcfae6278ce66ed886229b48d"},{text:"播放/录制页面",img:"https://superjunior.top/uploads/122d049a8b4cda110f5b475c974b2943"},{text:"播放/录制页面",img:"https://superjunior.top/uploads/48ae282fac5a881266e2aca8477643c3"}]}},methods:{enter:function(s){console.log(s),this.eleindex=s},out:function(s){this.imgindex=-1}}},l=v,p=a(1001),n=(0,p.Z)(l,i,e,!1,null,"c5717912",null),_=n.exports}}]);